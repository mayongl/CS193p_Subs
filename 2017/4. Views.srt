1
00:00:00,001 --> 00:00:03,969
[MUSIC]                         

2
00:00:03,971 --> 00:00:06,305
Stanford University.            

3
00:00:06,307 --> 00:00:09,908
>> All right, well,             
welcome to Stanford CS193P,     

4
00:00:09,910 --> 00:00:14,513
that's Developing Applications  
for iOS, winter of 2017.        

5
00:00:14,515 --> 00:00:19,651
So today, our topic is to talk  
about custom views, okay,       

6
00:00:19,653 --> 00:00:23,956
specifically the drawing        
side of having custom views.    

7
00:00:23,958 --> 00:00:27,226
And this is gonna be a more     
typical lecture than last       

8
00:00:27,228 --> 00:00:29,895
time because I'll be            
doing some slides and           

9
00:00:29,897 --> 00:00:31,730
explaining the concepts         
to you, and                     

10
00:00:31,732 --> 00:00:35,801
then I'll go into a demo that   
shows you how we do it all.     

11
00:00:35,803 --> 00:00:38,337
So what is a view?              

12
00:00:38,339 --> 00:00:41,907
A view is a subclass            
of UIView,                      

13
00:00:41,909 --> 00:00:44,843
which is in UIKit in iOS.       

14
00:00:44,845 --> 00:00:47,379
And all it does                 
is carve out or                 

15
00:00:47,381 --> 00:00:50,749
represent a rectangular         
area on screen.                 

16
00:00:50,751 --> 00:00:53,952
And that rectangular area       
defines a coordinate space      

17
00:00:53,954 --> 00:00:57,156
that we're gonna draw in and    
that we're gonna get            

18
00:00:57,158 --> 00:00:59,491
multi-touch events              
like pinches and                

19
00:00:59,493 --> 00:01:01,293
swipes and all that stuff.      

20
00:01:01,295 --> 00:01:01,894
So today,                       

21
00:01:01,896 --> 00:01:04,930
I'm just gonna focus on the     
drawing side of that all and    

22
00:01:04,932 --> 00:01:09,268
then we'll start talking about  
the gestures on Wednesday.      

23
00:01:09,469 --> 00:01:13,472
So these views,                 
these little rectangle areas    

24
00:01:13,474 --> 00:01:16,475
are put on screen in            
this hierarchical way.          

25
00:01:16,477 --> 00:01:20,312
And that just means that        
the views have subviews         

26
00:01:20,314 --> 00:01:20,879
inside of them.                 

27
00:01:20,881 --> 00:01:24,550
Now any given view can          
only have one superview,        

28
00:01:24,552 --> 00:01:26,251
that's the view that            
it's contained in.              

29
00:01:26,253 --> 00:01:28,454
But it can have any             
number of subviews,             

30
00:01:28,456 --> 00:01:29,655
so views made out of it.        

31
00:01:29,657 --> 00:01:32,691
So for example,                 
on the calculator, we had for   

32
00:01:32,693 --> 00:01:34,860
example, stack view, okay.      

33
00:01:34,862 --> 00:01:36,295
It had a lot of subviews,       

34
00:01:36,297 --> 00:01:37,696
all the buttons that            
we stacked in it.               

35
00:01:37,698 --> 00:01:40,933
In fact, some of the stack      
views had other stack views as  

36
00:01:40,935 --> 00:01:41,066
their subviews.                 

37
00:01:41,068 --> 00:01:43,402
And then those stack            
views had more subviews,        

38
00:01:43,404 --> 00:01:44,670
which were buttons or           
whatever, okay.                 

39
00:01:44,672 --> 00:01:48,774
So that's how we build our      
UI is this hierarchical         

40
00:01:48,776 --> 00:01:50,876
collection of these             
rectangular areas.              

41
00:01:50,878 --> 00:01:54,847
Now, at the very, very, very    
top there's a special UIView    

42
00:01:54,849 --> 00:01:58,584
called UIWindow class, we       
don't deal with that in iOS.    

43
00:01:58,586 --> 00:02:01,854
In fact, the only time you      
would ever do anything with     

44
00:02:01,856 --> 00:02:05,858
the UIWindow is if you were     
building an app that maybe      

45
00:02:05,860 --> 00:02:07,192
projected to a projector.       

46
00:02:07,194 --> 00:02:09,428
So that you had two screens,    
your device and                 

47
00:02:09,430 --> 00:02:10,929
then maybe some                 
external projector or           

48
00:02:10,931 --> 00:02:13,232
something, then you might       
care about UIWindow.            

49
00:02:13,234 --> 00:02:15,868
But otherwise,                  
it's all about UIView, okay?    

50
00:02:15,870 --> 00:02:19,338
All of our arrangement of       
the screen is all about how we  

51
00:02:19,340 --> 00:02:21,373
arrange the UIViews.            

52
00:02:21,375 --> 00:02:24,443
Now this hierarchy, okay,       
these rectangular areas inside  

53
00:02:24,445 --> 00:02:27,713
of rectangular areas,           
is almost always built          

54
00:02:27,715 --> 00:02:30,349
in Interface Builder,           
inside Xcode, okay?             

55
00:02:30,351 --> 00:02:31,950
That's how we built             
the stack view stuff.           

56
00:02:31,952 --> 00:02:33,952
We dragged out a bunch          
of buttons and                  

57
00:02:33,954 --> 00:02:34,753
then we selected them and       
said,                           

58
00:02:34,755 --> 00:02:37,723
"Embed in Stack View." Well,    
that wrapped it in there.       

59
00:02:37,725 --> 00:02:41,527
But we can also build that      
hierarchy by dragging views     

60
00:02:41,529 --> 00:02:42,728
out of the utilities,           

61
00:02:42,730 --> 00:02:46,665
bottom of the utilities window  
there, inside other views.      

62
00:02:46,667 --> 00:02:47,065
So you can drag,                

63
00:02:47,067 --> 00:02:50,836
do it by dragging-dropping      
inside of other views.          

64
00:02:50,838 --> 00:02:52,471
It is possible to               
do it in code but               

65
00:02:52,473 --> 00:02:54,540
usually we're doing             
it graphically.                 

66
00:02:54,542 --> 00:02:55,374
If you're doing it in code,     

67
00:02:55,376 --> 00:02:59,845
the two main methods            
involved in building and        

68
00:02:59,847 --> 00:03:04,116
destroying this hierarchy,      
are addSubview, okay,           

69
00:03:04,118 --> 00:03:06,351
addSubview, takes               
a view as an argument.          

70
00:03:06,353 --> 00:03:10,589
You send it to the              
"soon-to-be" superview of that  

71
00:03:10,591 --> 00:03:10,622
In other words,                 
you ask another view,           

72
00:03:10,624 --> 00:03:12,758
view.                           

73
00:03:12,760 --> 00:03:15,727
please add this other view      
as subview of yourself.         

74
00:03:15,729 --> 00:03:18,697
Now when you're doing the       
opposite, taking some view out  

75
00:03:18,699 --> 00:03:21,567
of the hierarchy, you don't     
send it to the superview.       

76
00:03:21,569 --> 00:03:23,302
You send it to                  
the actual view itself,         

77
00:03:23,304 --> 00:03:26,505
basically remove yourself       
from this view hierarchy.       

78
00:03:26,507 --> 00:03:28,640
So you send                     
removeFromSuperview             

79
00:03:28,642 --> 00:03:31,977
to the actual view              
you want removed.               

80
00:03:32,345 --> 00:03:34,346
Now where does this             
hierarchy start?                

81
00:03:34,348 --> 00:03:35,814
I guess you could say           
it starts in UIWindow.          

82
00:03:35,816 --> 00:03:38,750
But for our purposes, we don't  
even pay attention to that.     

83
00:03:38,752 --> 00:03:41,220
It starts at                    
the top level view              

84
00:03:41,222 --> 00:03:43,722
in that scene in                
Interface Builder.              

85
00:03:43,724 --> 00:03:46,325
The scene that's controlled by  
our view controller, right?     

86
00:03:46,327 --> 00:03:49,094
That rectangular area           
that we work in.                

87
00:03:49,096 --> 00:03:49,127
There's a top,                  

88
00:03:49,129 --> 00:03:53,498
top level view that covers      
the whole space up there.       

89
00:03:53,500 --> 00:03:56,001
And there is an important       
instance variable,              

90
00:03:56,003 --> 00:03:58,704
property, in UIViewController.  

91
00:03:58,706 --> 00:04:02,474
Okay, so all subclasses         
of UIViewController get         

92
00:04:02,476 --> 00:04:02,641
this property.                  

93
00:04:02,643 --> 00:04:06,812
It's called view and it's       
a UIView and a top level view.  

94
00:04:06,814 --> 00:04:10,983
And it's very important to      
understand that in an MVC,      

95
00:04:10,985 --> 00:04:14,286
the controller has this,        
always has this var which       

96
00:04:14,288 --> 00:04:20,459
points to the very top of that  
view hierarchy in its scene.    

97
00:04:21,227 --> 00:04:24,263
This top level view is          
important because for example,  

98
00:04:24,265 --> 00:04:28,066
when you rotate, it's the       
thing whose bounds changes,     

99
00:04:28,068 --> 00:04:28,767
that top level view.            

100
00:04:28,769 --> 00:04:31,169
And you're gonna learn          
a little later that when        

101
00:04:31,171 --> 00:04:34,439
the bounds of a view changes,   
there's a mechanism for         

102
00:04:34,441 --> 00:04:38,176
offering all of its subviews    
an opportunity to change.       

103
00:04:38,178 --> 00:04:39,645
So that's why when              
we rotate device,               

104
00:04:39,647 --> 00:04:42,481
that top level view changes     
from being tall and             

105
00:04:42,483 --> 00:04:46,118
thin to being wide and          
less tall.                      

106
00:04:46,120 --> 00:04:48,587
And that causes all             
those stack views and           

107
00:04:48,589 --> 00:04:50,889
everything else to start        
getting resized as well,        

108
00:04:50,891 --> 00:04:55,227
because they're all subviews    
of this top level view, okay?   

109
00:04:55,229 --> 00:04:58,530
If you were going to add        
views to the view hierarchy     

110
00:04:58,532 --> 00:05:00,632
programmatically rather         
than dragging and               

111
00:05:00,634 --> 00:05:03,602
dropping them, then you would   
need this view because it's     

112
00:05:03,604 --> 00:05:05,304
the top of the entire           
view hierarchy.                 

113
00:05:05,306 --> 00:05:06,605
And you would kinda             
work your way down              

114
00:05:06,607 --> 00:05:08,840
to find out where you           
want to put that view.          

115
00:05:08,842 --> 00:05:11,376
But we don't otherwise          
actually look at this view      

116
00:05:11,378 --> 00:05:13,612
much because we usually         
have outlets, rights?           

117
00:05:13,614 --> 00:05:17,282
IBOutlets--like the display     
that points to the label--that  

118
00:05:17,284 --> 00:05:18,917
gives us access to that label.  

119
00:05:18,919 --> 00:05:19,284
That's all we want, so          

120
00:05:19,286 --> 00:05:22,154
we don't have to go looking     
at the top level view and       

121
00:05:22,156 --> 00:05:25,390
looking all down the views,     
okay?                           

122
00:05:25,392 --> 00:05:26,992
So this is important            
to know about but               

123
00:05:26,994 --> 00:05:30,862
surprisingly you don't          
access it that much, okay.      

124
00:05:30,864 --> 00:05:32,597
This view is automatically      
hooked up for you in            

125
00:05:32,599 --> 00:05:35,133
Interface Builder when you      
drag out a View Controller.     

126
00:05:35,135 --> 00:05:37,135
It's just all                   
magically hooked up,            

127
00:05:37,137 --> 00:05:38,937
you don't have to               
worry about that.               

128
00:05:38,939 --> 00:05:42,140
Okay, let's talk about          
initialization of the UIView.   

129
00:05:42,142 --> 00:05:45,177
As usual, when you saw          
the lecture from last time,     

130
00:05:45,179 --> 00:05:48,780
you probably realize, whoa,     
initialization has a lot of     

131
00:05:48,782 --> 00:05:53,151
caveats when you're talking     
about initializing a class,     

132
00:05:53,153 --> 00:05:53,352
Remember all those rules        
I was going through?            

133
00:05:53,354 --> 00:05:54,920
right?                          

134
00:05:54,922 --> 00:05:59,157
Required convenience and its    
inheritance, all this stuff.    

135
00:05:59,159 --> 00:06:01,993
So we try to avoid              
initializers generally as much  

136
00:06:01,995 --> 00:06:04,896
as we can by doing all          
the things I talked             

137
00:06:04,898 --> 00:06:07,032
about on Wednesday,             
like setting things equal or    

138
00:06:07,034 --> 00:06:09,868
even using lazy or              
something like that.            

139
00:06:09,870 --> 00:06:11,103
But if you can't avoid it,      

140
00:06:11,105 --> 00:06:13,739
UIView has an interesting       
initializer situation.          

141
00:06:13,741 --> 00:06:18,076
It has two initializers         
that you have to deal with.     

142
00:06:18,078 --> 00:06:21,246
Okay, one of them, init, with   
the frame is the argument, is   

143
00:06:21,248 --> 00:06:24,282
the one that you would call if  
you're trying to create a view  

144
00:06:24,284 --> 00:06:29,321
in code, which you'll probably  
never do in this class, okay?   

145
00:06:29,323 --> 00:06:30,655
Because you're                  
always gonna use or             

146
00:06:30,657 --> 00:06:32,491
do it in Interface Builder      
with Xcode.                     

147
00:06:32,493 --> 00:06:36,461
But, so that's the kind         
of in-code one.                 

148
00:06:36,463 --> 00:06:39,030
And init with                   
this coder thing,               

149
00:06:39,032 --> 00:06:40,632
which I'll talk about           
right at the end of class,      

150
00:06:40,634 --> 00:06:43,135
but it's not important          
to know early on.               

151
00:06:43,137 --> 00:06:46,571
That's the init that gets       
called when your stuff come     

152
00:06:46,573 --> 00:06:47,873
outs of Interface Builder,      
right?                          

153
00:06:47,875 --> 00:06:51,176
When it comes from,             
when you built in Xcode.        

154
00:06:51,178 --> 00:06:53,712
All the stuff that you're       
building in Interface Builder   

155
00:06:53,714 --> 00:06:55,280
essentially gets coded,         

156
00:06:55,282 --> 00:06:57,282
that's what this coder          
business is about.              

157
00:06:57,284 --> 00:07:01,386
Gets coded into an XML file,    
kind of freeze dried.           

158
00:07:01,388 --> 00:07:04,256
And then when you run your      
program, that XML file gets     

159
00:07:04,258 --> 00:07:06,691
loaded in and it's kind         
of the instructions for         

160
00:07:06,693 --> 00:07:09,895
how to create all               
those objects, okay?            

161
00:07:09,897 --> 00:07:12,297
And init with coder is          
the initializer it uses         

162
00:07:12,299 --> 00:07:12,998
to recreate the view.           

163
00:07:13,000 --> 00:07:16,268
So if you have any code that    
needs to go in an initializer,  

164
00:07:16,270 --> 00:07:19,137
like you need to initialize     
some var in your UIView,        

165
00:07:19,139 --> 00:07:21,106
you have to do it like this.    

166
00:07:21,108 --> 00:07:22,707
Override both of these inits,   

167
00:07:22,709 --> 00:07:25,777
one of them is a required       
init, the coder one.            

168
00:07:25,779 --> 00:07:29,347
And we create some other        
method like this green setup    

169
00:07:29,349 --> 00:07:29,614
method I have.                  

170
00:07:29,616 --> 00:07:31,917
And just call that method       
from both of them.              

171
00:07:31,919 --> 00:07:34,519
That way you're guaranteed      
that whether your custom view   

172
00:07:34,521 --> 00:07:37,322
is created in code or           
created in Interface Builder,   

173
00:07:37,324 --> 00:07:42,427
it will get                     
initialized properly.           

174
00:07:42,429 --> 00:07:45,530
If you have vars that have to   
be initialized, you may not be  

175
00:07:45,532 --> 00:07:48,400
able to use this mechanism      
of course because you can't     

176
00:07:48,402 --> 00:07:51,203
call methods in yourself        
until you're initialized.       

177
00:07:51,205 --> 00:07:55,073
So you might have to have       
that var initialization be      

178
00:07:55,075 --> 00:07:56,875
somewhat duplicated there.      

179
00:07:56,877 --> 00:07:59,744
There's another alternative to  
initialization though and this  

180
00:07:59,746 --> 00:08:02,814
is for any other object that    
comes out of Interface Builder  

181
00:08:02,816 --> 00:08:05,050
which is called awakeFromNib.   

182
00:08:05,052 --> 00:08:05,851
Okay, awakeFromNib.             

183
00:08:05,853 --> 00:08:08,520
This is sent to every single    
object that ever comes out      

184
00:08:08,522 --> 00:08:11,490
of Interface Builder file,      
okay, that you edit             

185
00:08:11,492 --> 00:08:13,258
in the story board there        
including views and             

186
00:08:13,260 --> 00:08:15,126
your View Controller for        
that matter.                    

187
00:08:15,128 --> 00:08:18,597
And so                          

188
00:08:18,599 --> 00:08:21,633
the "Your object must be        
completely initialized."        

189
00:08:21,635 --> 00:08:25,070
Those restrictions are not      
satisfied by this.              

190
00:08:25,072 --> 00:08:27,906
But still you can put code in   
there, you get, get going.      

191
00:08:27,908 --> 00:08:29,341
And we're gonna learn           
all kinds of ways to do         

192
00:08:29,343 --> 00:08:31,877
initialization throughout       
our system down the road,       

193
00:08:31,879 --> 00:08:35,514
but that's basically how        
you initialize UIViews.         

194
00:08:36,215 --> 00:08:38,984
Okay so we're gonna             
talk now about UIView           

195
00:08:38,986 --> 00:08:42,220
as this rectangular area        
in which we're gonna draw.      

196
00:08:42,222 --> 00:08:44,055
And so to do that we need       
talk about some types.          

197
00:08:44,057 --> 00:08:46,892
They're some very important     
types that you need to know.    

198
00:08:46,894 --> 00:08:48,727
One of them is CGFloat.         

199
00:08:48,729 --> 00:08:50,629
So CGFloat is                   
a floating point value.         

200
00:08:50,631 --> 00:08:53,498
All of your coordinates that    
you're gonna be drawing in      

201
00:08:53,500 --> 00:08:56,768
are all floating point values,  
but they're not doubles,        

202
00:08:56,770 --> 00:08:59,738
they're not floats,             
they're CGFloats.               

203
00:08:59,740 --> 00:09:00,205
So this is a type,              

204
00:09:00,207 --> 00:09:03,041
a real type that you            
have to use all the time        

205
00:09:03,043 --> 00:09:06,378
when you're doing anything      
with the drawing, okay?         

206
00:09:06,612 --> 00:09:07,913
CG stands for Core Graphics,    

207
00:09:07,915 --> 00:09:10,749
this is the "graphics           
float" right here, okay?        

208
00:09:10,751 --> 00:09:14,419
There's also a CGPoint which    
is just a struct with two       

209
00:09:14,421 --> 00:09:17,789
things in it, x and y,          
they're both CGFloats, CGPoint  

210
00:09:17,791 --> 00:09:21,159
represents a point in your      
coordinate system somewhere.    

211
00:09:21,161 --> 00:09:23,328
Again, floating                 
point coordinates.              

212
00:09:23,330 --> 00:09:26,565
There's also CGSize,            
which represents an extent.     

213
00:09:26,567 --> 00:09:27,933
You know, a width and           
a height, okay?                 

214
00:09:27,935 --> 00:09:31,903
Only, it's just the struct,     
with two CGFloats, width and    

215
00:09:31,905 --> 00:09:32,671
height, simple.                 

216
00:09:32,673 --> 00:09:35,574
And there's CGRect, of course,  
which is a rectangle.           

217
00:09:35,576 --> 00:09:39,177
It's a struct that has an       
origin, which is CGPoint, and   

218
00:09:39,179 --> 00:09:40,545
an extent, which is a size.     

219
00:09:40,547 --> 00:09:43,181
So a rectangle                  
represents a size, okay?        

220
00:09:43,183 --> 00:09:47,052
So creating a CGRect--there's   
actually quite a few            

221
00:09:47,054 --> 00:09:48,119
initializers for it.            

222
00:09:48,121 --> 00:09:49,020
You can create an origin and    
size,                           

223
00:09:49,022 --> 00:09:51,523
you can do an x y with height,  
things like that.               

224
00:09:51,525 --> 00:09:53,625
And CGRect also has             
a lot of really cool,           

225
00:09:53,627 --> 00:09:58,396
little convenience vars and     
funcs and thing like that.      

226
00:09:58,398 --> 00:09:58,630
maxY, midY, those'll tell you   
thing like where's the left     

227
00:09:58,632 --> 00:10:01,933
Like minX,                      

228
00:10:01,935 --> 00:10:05,770
edge of your rect to the top    
to the left or the bottom.      

229
00:10:05,772 --> 00:10:07,072
The middle points, etc.         

230
00:10:07,074 --> 00:10:10,875
There's also nice functions     
like intersects other rect      

231
00:10:10,877 --> 00:10:13,912
will return whether the two     
rectangles cross over.          

232
00:10:13,914 --> 00:10:17,482
And there's even                
contains whether a point        

233
00:10:17,484 --> 00:10:19,551
is inside the rectangle, etc.   

234
00:10:19,553 --> 00:10:21,386
So there's quite                
a few of these.                 

235
00:10:21,388 --> 00:10:22,420
I can't put them all            
on the slide, so                

236
00:10:22,422 --> 00:10:25,857
you're gonna wanna familiarize  
yourselves with CGRect.         

237
00:10:25,859 --> 00:10:27,726
Because it probably has a lot   
of things in there that         

238
00:10:27,728 --> 00:10:31,162
you would otherwise be          
writing your own code to do.    

239
00:10:31,497 --> 00:10:32,897
Okay, so                        
now that we have those types,   

240
00:10:32,899 --> 00:10:35,667
those four types, we can start  
talking about this coordinate   

241
00:10:35,669 --> 00:10:38,103
system that we're gonna         
be doing our drawing in.        

242
00:10:38,105 --> 00:10:39,571
Now, the most important         
thing to understand,            

243
00:10:39,573 --> 00:10:42,841
the simplest thing, is that     
the origin of this coordinate   

244
00:10:42,843 --> 00:10:45,977
system is in the upper          
left of the screen.             

245
00:10:45,979 --> 00:10:49,414
It's not Cartesian coordinates  
which the origin would be in    

246
00:10:49,416 --> 00:10:51,816
the lower left of the screen    
because in Cartesian            

247
00:10:51,818 --> 00:10:53,785
coordinates increasing          
y means up, but                 

248
00:10:53,787 --> 00:10:56,688
in this coordinate system       
increasing y means going down,  

249
00:10:56,690 --> 00:10:58,256
down the screen, okay?          

250
00:10:58,258 --> 00:10:59,424
So very important               
to understand that.             

251
00:10:59,426 --> 00:11:04,896
So you can see that point I     
have up there, 500,35 that's    

252
00:11:04,898 --> 00:11:10,135
500 over and 35 down from       
the origin upper left, okay?    

253
00:11:10,137 --> 00:11:14,773
Now, the units in here that     
we're drawing are points.       

254
00:11:14,775 --> 00:11:18,443
Okay, be very careful that      
you understand the unit         

255
00:11:18,445 --> 00:11:20,578
terminology here, okay?         

256
00:11:20,580 --> 00:11:22,180
It's in points, not pixels.     

257
00:11:22,182 --> 00:11:25,917
A pixel is like the smallest    
possible little light           

258
00:11:25,919 --> 00:11:28,153
that can be turned              
on on your screen.              

259
00:11:28,155 --> 00:11:32,323
Okay, now some devices          
have a lot of pixels            

260
00:11:32,325 --> 00:11:35,293
per point--they're very dense.  

261
00:11:35,295 --> 00:11:38,196
And that's really great,        
because if you're drawing       

262
00:11:38,198 --> 00:11:40,765
smooth curves--like             
fonts are just                  

263
00:11:40,767 --> 00:11:43,501
smooth curves being drawn--you  
don't get jaggy edges,          

264
00:11:43,503 --> 00:11:45,970
because there's so              
many tiny little points, okay?  

265
00:11:45,972 --> 00:11:49,374
But we can't make it, so that   
we draw in the pixel space,     

266
00:11:49,376 --> 00:11:53,311
otherwise, on a very            
dense pixel screen,             

267
00:11:53,313 --> 00:11:54,913
our image would                 
be really small.                

268
00:11:54,915 --> 00:11:56,981
And then, in an undense one,    
it'd be really big,             

269
00:11:56,983 --> 00:11:58,383
because the pixels              
are really big.                 

270
00:11:58,385 --> 00:12:00,819
So we instead of                
drawing in pixels,              

271
00:12:00,821 --> 00:12:01,953
we draw in points, okay?        

272
00:12:01,955 --> 00:12:05,290
This is the same point by       
the way that is like the point  

273
00:12:05,292 --> 00:12:05,457
size of a font.                 

274
00:12:05,459 --> 00:12:11,162
A 12 point font, same word      
there, same point, okay?        

275
00:12:11,630 --> 00:12:15,400
So, you can find out though     
how many pixels there are per   

276
00:12:15,402 --> 00:12:18,203
point, in other words how high  
resolution your screen is,      

277
00:12:18,205 --> 00:12:22,407
with this var in UIView         
called contentScaleFactor.      

278
00:12:22,409 --> 00:12:25,243
It's a CGFloat, it's either     
gonna be one, two, or           

279
00:12:25,245 --> 00:12:26,244
three currently.                

280
00:12:26,246 --> 00:12:28,546
Like, the iPhone                
7 Plus is three.                

281
00:12:28,548 --> 00:12:31,382
Three pixels per point          
in each direction.              

282
00:12:31,384 --> 00:12:36,087
And the older like              
iPhone 4s maybe?                

283
00:12:36,089 --> 00:12:38,456
Maybe all the way back          
to the 4 would be one.          

284
00:12:38,458 --> 00:12:41,493
Okay, some of the older         
iPads would be one.             

285
00:12:41,495 --> 00:12:43,394
The newer iPads would be two.   

286
00:12:43,396 --> 00:12:43,561
So, If you're doing anything    
where you have to pay           

287
00:12:43,563 --> 00:12:46,164
Okay?                           

288
00:12:46,166 --> 00:12:48,466
attention to the number         
of pixels of points,            

289
00:12:48,468 --> 00:12:49,000
this is what you need.          

290
00:12:49,002 --> 00:12:51,669
Now the great thing is, most    
of the time you don't care      

291
00:12:51,671 --> 00:12:54,672
because when you're using       
iOS to draw with a font,        

292
00:12:54,674 --> 00:12:57,475
it's automatically gonna        
do super smooth turns, and      

293
00:12:57,477 --> 00:13:00,111
you don't even have to know     
what the scale factor is.       

294
00:13:00,113 --> 00:13:01,679
Even if you're just             
drawing an arc,                 

295
00:13:01,681 --> 00:13:05,283
it'll make sure you do as       
little jaggies as possible.     

296
00:13:05,285 --> 00:13:07,218
So, you rarely                  
have to know this.              

297
00:13:07,220 --> 00:13:08,686
But actually, wake up.          

298
00:13:08,688 --> 00:13:10,288
You do need to know for         
assignment three, okay?         

299
00:13:10,290 --> 00:13:13,424
So assignment three,            
you will have to know this.     

300
00:13:13,426 --> 00:13:15,760
Alright, now.                   

301
00:13:15,762 --> 00:13:21,065
The most important var in all   
of UIView is this one: bounds.  

302
00:13:21,067 --> 00:13:24,235
And even in that                
really important var,           

303
00:13:24,237 --> 00:13:28,306
really what you care            
about is the size.              

304
00:13:28,308 --> 00:13:31,876
This is, in your drawing        
coordinate system,              

305
00:13:31,878 --> 00:13:33,111
the space you have to draw in.  

306
00:13:33,113 --> 00:13:37,015
This is basically the size of   
your view in your own drawing   

307
00:13:37,017 --> 00:13:37,749
coordinate system.              

308
00:13:37,751 --> 00:13:39,684
So any time you're              
doing any drawing and           

309
00:13:39,686 --> 00:13:42,754
you wanna draw something        
that's as wide as your view,    

310
00:13:42,756 --> 00:13:44,989
you're gonna use                
bounds.size.width here.         

311
00:13:44,991 --> 00:13:48,359
And you're almost always gonna  
have your bounds' origin be     

312
00:13:48,361 --> 00:13:51,930
(0, 0) so if you want put       
something in upper left you're  

313
00:13:51,932 --> 00:13:55,633
gonna put it at (0,             
0) or close to (0, 0).          

314
00:13:55,635 --> 00:13:56,434
So this rect, bounds,           

315
00:13:56,436 --> 00:13:58,269
is describing the area          
have to draw in.                

316
00:13:58,271 --> 00:14:00,705
Now it's important because      
you obviously want to,          

317
00:14:00,707 --> 00:14:04,008
depending on your size,         
draw yourself appropriately.    

318
00:14:04,010 --> 00:14:06,611
And it's also important         
because there are two other     

319
00:14:06,613 --> 00:14:10,882
vars that often get confused    
by students with bounds, and    

320
00:14:10,884 --> 00:14:16,020
which are quite different:      
that is frame and center.       

321
00:14:16,022 --> 00:14:19,891
So frame and                    
center have nothing to do       

322
00:14:19,893 --> 00:14:22,827
with where you're drawing,      
that's bounds.                  

323
00:14:22,829 --> 00:14:27,665
Frame and center is where       
you are in your super view.     

324
00:14:28,334 --> 00:14:30,969
So here's a picture of          
that frame and center.          

325
00:14:30,971 --> 00:14:34,239
So center is where your         
center is in your superview's   

326
00:14:34,241 --> 00:14:37,208
coordinate system and frame is  
a rectangle that completely     

327
00:14:37,210 --> 00:14:40,378
encases you in your             
superview's coordinate system.  

328
00:14:40,380 --> 00:14:43,481
And you might think, well the   
size of my frame is gonna be    

329
00:14:43,483 --> 00:14:46,618
exactly the same size as        
my bounds size, right?          

330
00:14:46,620 --> 00:14:51,956
And the answer is no,           
because views can be rotated.   

331
00:14:51,958 --> 00:14:54,993
And if you have ever rotated    
a view like this green one,     

332
00:14:54,995 --> 00:14:55,193
Inside the code that's drawing  
in View B, its bounds just      

333
00:14:55,195 --> 00:14:58,429
View B.                         

334
00:14:58,431 --> 00:15:01,099
looks like a normal rectangle,  
the fact that it's rotated,     

335
00:15:01,101 --> 00:15:02,767
it doesn't even                 
know it's rotated.              

336
00:15:02,769 --> 00:15:05,403
But if you look at the center   
of it, or if you look at        

337
00:15:05,405 --> 00:15:09,407
the frame that encloses it,     
look, it's not the same size.   

338
00:15:09,409 --> 00:15:09,574
It has to be bigger because,    
to the superview, View A,       

339
00:15:09,576 --> 00:15:12,810
It's bigger.                    

340
00:15:12,812 --> 00:15:15,947
View B kinda looks              
like a diamond, right?          

341
00:15:15,949 --> 00:15:16,681
So it has to be bigger.         

342
00:15:16,683 --> 00:15:21,886
So the bottom line here, never  
use frame or center to draw.    

343
00:15:21,888 --> 00:15:25,390
Frame and center are only       
used to position you            

344
00:15:25,392 --> 00:15:25,857
in your super view.             

345
00:15:25,859 --> 00:15:27,125
Okay, you can use either one.   

346
00:15:27,127 --> 00:15:28,660
If you set the center,          
it'll move the frame,           

347
00:15:28,662 --> 00:15:31,329
if you set the frame,           
it'll adjust the center, okay.  

348
00:15:31,331 --> 00:15:32,764
They're tied together.          

349
00:15:34,433 --> 00:15:35,099
Okay.                           

350
00:15:35,101 --> 00:15:36,601
How do we create views?         

351
00:15:36,603 --> 00:15:38,469
Okay, because I already told    
you we don't really use         

352
00:15:38,471 --> 00:15:39,871
the initializer,                
we don't, you know,             

353
00:15:39,873 --> 00:15:41,506
create them in code very much.  

354
00:15:41,508 --> 00:15:41,606
What we usually do              
is we drag them out             

355
00:15:41,608 --> 00:15:43,207
Okay?                           

356
00:15:43,209 --> 00:15:46,844
from the Object Palette in the  
bottom of the utilities window  

357
00:15:46,846 --> 00:15:48,012
in Interface Builder.           

358
00:15:48,014 --> 00:15:51,149
But if I built a custom view,   
Paul's view or                  

359
00:15:51,151 --> 00:15:55,386
something, it's not going       
to be in the palette, okay.     

360
00:15:55,388 --> 00:15:57,322
Xcode didn't ship with          
my view in the palette.         

361
00:15:57,324 --> 00:16:00,858
So instead, there's a generic   
view, just plain UIView, and    

362
00:16:00,860 --> 00:16:02,427
you're gonna drag that in.      

363
00:16:02,429 --> 00:16:04,796
But then, you're gonna inspect  
it using the top half of        

364
00:16:04,798 --> 00:16:06,631
the utilities pane              
on the right, right?            

365
00:16:06,633 --> 00:16:08,366
You're gonna inspect it and     

366
00:16:08,368 --> 00:16:10,401
change its class                
to not be UIView.               

367
00:16:10,403 --> 00:16:13,805
It's gonna be your subclass     
of UIView, so Paul view or      

368
00:16:13,807 --> 00:16:14,639
whatever, okay?                 

369
00:16:14,641 --> 00:16:16,107
And this is a very              
important step to remember.     

370
00:16:16,109 --> 00:16:18,843
When you create a custom view   
and you drag it into your UI,   

371
00:16:18,845 --> 00:16:21,312
you have to change its class    
to be your custom class.        

372
00:16:21,314 --> 00:16:24,615
And we'll see that in           
the demo, how it works.         

373
00:16:25,184 --> 00:16:26,551
When you create it in code,     
of course,                      

374
00:16:26,553 --> 00:16:28,519
you're just doing               
UIView(frame:),                 

375
00:16:28,521 --> 00:16:29,821
and you provide the frame,      
okay?                           

376
00:16:29,823 --> 00:16:32,190
And that frame, remember,       
what does it describe?          

377
00:16:32,192 --> 00:16:34,625
Describes where this view is    
gonna be in its super view      

378
00:16:34,627 --> 00:16:37,996
when it gets added, that's      
all the frame is doing, okay?   

379
00:16:37,998 --> 00:16:40,231
And you can create it with      
UIView(), no arguments.         

380
00:16:40,233 --> 00:16:42,100
Then it will be zero width,     
zero height, and                

381
00:16:42,102 --> 00:16:45,069
it'll be at zero, zero, so      
you won't even see it, so.      

382
00:16:45,071 --> 00:16:45,903
But you could come              
along later and                 

383
00:16:45,905 --> 00:16:50,508
change its frame and/or its     
center to move it around.       

384
00:16:51,043 --> 00:16:52,510
Here, it's a really             
quick example,                  

385
00:16:52,512 --> 00:16:53,578
how to create a view in code.   

386
00:16:53,580 --> 00:16:55,513
I'm gonna create a UILabel.     

387
00:16:55,515 --> 00:16:58,349
UILabel is just                 
a subclass of UIView.           

388
00:16:58,351 --> 00:17:00,585
And notice that on              
the second line there,          

389
00:17:00,587 --> 00:17:04,188
I'm just saying label =         
UILabel(frame:) of whatever.    

390
00:17:04,190 --> 00:17:07,058
So I'm giving it this frame,    
20, 20, 150, right?             

391
00:17:07,060 --> 00:17:09,260
And then I'm setting            
the text to "Hello".            

392
00:17:09,262 --> 00:17:12,530
Well, if I was doing this       
code in a UIViewController,     

393
00:17:12,532 --> 00:17:14,899
then I could put it at          
that top level view,            

394
00:17:14,901 --> 00:17:18,069
it'd look like that,            
view.addSubview, okay?          

395
00:17:18,071 --> 00:17:19,337
And it would add the subview.   

396
00:17:19,339 --> 00:17:22,640
Custom views, so why do I       
ever need a custom view?        

397
00:17:22,642 --> 00:17:24,409
Either I need to do             
custom drawing or               

398
00:17:24,411 --> 00:17:27,912
I need to do custom             
multi-touch input, okay?        

399
00:17:27,914 --> 00:17:28,546
Those are the reasons           

400
00:17:28,548 --> 00:17:30,681
that you're gonna               
create a custom view.           

401
00:17:30,683 --> 00:17:33,384
And so we're gonna focus        
on the drawing, and             

402
00:17:33,386 --> 00:17:35,753
the drawing is very,            
very simple, okay?              

403
00:17:35,755 --> 00:17:38,589
There's this one method         
that's called draw.             

404
00:17:38,591 --> 00:17:41,459
And it takes one argument,      
which is a rect.                

405
00:17:41,461 --> 00:17:44,028
For historical reasons,         
we sometimes call it drawrect,  

406
00:17:44,030 --> 00:17:46,064
but it's not actually           
called drawrect anymore.        

407
00:17:46,066 --> 00:17:50,001
It's called draw, and           
the argument is called rect.    

408
00:17:52,337 --> 00:17:55,073
And this draw is gonna be       
sent to you by the system.      

409
00:17:55,075 --> 00:17:57,508
It's sent to your               
UIView subclass,                

410
00:17:57,510 --> 00:18:00,445
you override it, and it gets    
sent to you by the system when  

411
00:18:00,447 --> 00:18:02,413
the system wants you            
to draw yourself.               

412
00:18:02,415 --> 00:18:05,550
This is the only way you        
can draw in your view,          

413
00:18:05,552 --> 00:18:08,119
is to be asked by               
the system to draw.             

414
00:18:08,121 --> 00:18:12,757
There is no other               
way to draw in iOS.             

415
00:18:12,759 --> 00:18:14,759
So what's that                  
rectangle about?                

416
00:18:14,761 --> 00:18:17,829
That rectangle is some          
sub-area in your bounds         

417
00:18:17,831 --> 00:18:18,763
that it wants you to draw.      

418
00:18:18,765 --> 00:18:21,399
Now, that's a performance       
enhancement, because you can    

419
00:18:21,401 --> 00:18:24,068
ignore that and draw your       
whole view, if you'd like.      

420
00:18:24,070 --> 00:18:26,437
But like in your assignment     
three, you're probably gonna    

421
00:18:26,439 --> 00:18:27,872
wanna pay attention to          
this rectangle because          

422
00:18:27,874 --> 00:18:31,576
your assignment three's draw    
is gonna be pretty expensive,   

423
00:18:31,578 --> 00:18:34,846
so you wanna draw as            
little as possible.             

424
00:18:35,214 --> 00:18:36,747
So that's what this draw is,    
very simple,                    

425
00:18:36,749 --> 00:18:39,484
it's just called by the         
system, time for you to draw.   

426
00:18:39,486 --> 00:18:40,418
It's the only way to draw.      

427
00:18:40,420 --> 00:18:43,855
So it's really,                 
really easy to understand.      

428
00:18:44,022 --> 00:18:47,358
Never call this method, ever.   

429
00:18:47,360 --> 00:18:49,827
If you ever call this method,   
it's wrong.                     

430
00:18:50,028 --> 00:18:50,828
The system calls this method,   

431
00:18:50,830 --> 00:18:53,331
the system's the only one       
who calls this method.          

432
00:18:53,333 --> 00:18:55,299
So what happens if              
you need to draw?               

433
00:18:55,301 --> 00:18:57,301
Something changed,              
and you wanna redraw.           

434
00:18:57,303 --> 00:18:59,637
You call one of these two       
methods, setNeedsDisplay or     

435
00:18:59,639 --> 00:19:01,906
setNeedsDisplay with            
the argument of a rect.         

436
00:19:01,908 --> 00:19:04,642
And that's telling the system,  
hey, system,                    

437
00:19:04,644 --> 00:19:06,077
my view needs to be redrawn.    

438
00:19:06,079 --> 00:19:07,211
Please ask me to redraw it.     

439
00:19:07,213 --> 00:19:09,547
And at some appropriate         
time in the future,             

440
00:19:09,549 --> 00:19:10,681
it will ask you to redraw it.   

441
00:19:10,683 --> 00:19:13,818
But it knows better than you    
when the best time to draw is,  

442
00:19:13,820 --> 00:19:14,352
believe me.                     

443
00:19:14,354 --> 00:19:16,821
And the rect that you can       
pass, that's just the rect      

444
00:19:16,823 --> 00:19:18,589
that's gonna be passed          
onto your draw.                 

445
00:19:18,591 --> 00:19:21,959
So setNeedsDisplay with         
a rect is like an optimized     

446
00:19:21,961 --> 00:19:22,627
setNeedsDisplay.                

447
00:19:22,629 --> 00:19:24,128
It's like,                      
I need to be redrawn, but       

448
00:19:24,130 --> 00:19:24,362
only this part of me.           

449
00:19:24,364 --> 00:19:29,567
And you can send this to any    
UIView, say, redraw this view.  

450
00:19:29,569 --> 00:19:31,802
Usually, views send it to       
themselves though because       

451
00:19:31,804 --> 00:19:36,474
they're the ones who know best  
when they need to be redrawn,   

452
00:19:36,476 --> 00:19:37,441
okay?                           

453
00:19:38,076 --> 00:19:38,776
Alright.                        

454
00:19:38,778 --> 00:19:42,680
So, how do I implement          
this drawrect,                  

455
00:19:42,682 --> 00:19:47,285
draw, draw with                 
a CGRect argument guy?          

456
00:19:47,287 --> 00:19:49,320
And the answer is,              
you're gonna do it with paths.  

457
00:19:49,322 --> 00:19:52,890
You're gonna create paths, and  
then you're going to stroke     

458
00:19:52,892 --> 00:19:56,127
them and fill them to make      
shapes and things like that.    

459
00:19:56,129 --> 00:19:58,963
And then you're also gonna      
use text and images.            

460
00:19:58,965 --> 00:20:02,667
So that's the primary way       
that you're going to draw       

461
00:20:02,669 --> 00:20:03,100
in there, okay?                 

462
00:20:03,102 --> 00:20:05,002
So we'll talk about text and    
images in a minute.             

463
00:20:05,004 --> 00:20:07,371
Let's talk about the drawing    
with the paths first.           

464
00:20:07,373 --> 00:20:08,472
There's really two              
ways to do it.                  

465
00:20:08,474 --> 00:20:10,341
One is, you can get             
what's called a context,        

466
00:20:10,343 --> 00:20:12,743
a drawing context, and          
I'll show you how to get it.    

467
00:20:12,745 --> 00:20:16,380
And then you can send messages  
to that context like, move to   

468
00:20:16,382 --> 00:20:20,651
this point, draw a line to      
here, add an arc over here,     

469
00:20:20,653 --> 00:20:23,521
put some text over here,        
things like that, okay?         

470
00:20:23,523 --> 00:20:25,656
Actually, the text we're        
gonna do in a different way,    

471
00:20:25,658 --> 00:20:26,691
but, so that's one way.         

472
00:20:26,693 --> 00:20:29,794
And then the other way is,      
you can create a path object,   

473
00:20:29,796 --> 00:20:33,564
okay, using UIBezierPath, and   
it's the same kind of thing.    

474
00:20:33,566 --> 00:20:35,800
But you're gonna create this    
object that you're gonna tell   

475
00:20:35,802 --> 00:20:38,269
that object, okay, I want this  
path to be moving to here, and  

476
00:20:38,271 --> 00:20:40,771
then a line here, and then      
an arc over to here, okay?      

477
00:20:40,773 --> 00:20:41,505
So you create this path, and    

478
00:20:41,507 --> 00:20:44,342
then you send a message to      
that path saying, okay,         

479
00:20:44,344 --> 00:20:44,809
stroke it.                      

480
00:20:44,811 --> 00:20:46,677
So it's a subtle difference,    
but you'll see.                 

481
00:20:46,679 --> 00:20:48,980
We're gonna focus mainly        
on the UIBezierPath way,        

482
00:20:48,982 --> 00:20:50,481
because it's kind of            
a little simpler.               

483
00:20:50,483 --> 00:20:52,283
So let's understand             
the concepts here of            

484
00:20:52,285 --> 00:20:55,620
Core Graphics, that's what the  
CG is that you're seeing in     

485
00:20:55,622 --> 00:20:55,953
all the places here.            

486
00:20:55,955 --> 00:20:59,724
And the number one thing        
about Core Graphics is,         

487
00:20:59,726 --> 00:21:00,157
we need a context.              

488
00:21:00,159 --> 00:21:02,860
And that context might be a     
drawing context for on-screen,  

489
00:21:02,862 --> 00:21:04,795
it might be a printing          
context if we're printing,      

490
00:21:04,797 --> 00:21:07,898
might be a context of drawing   
to an off-screen bitmap, etc.   

491
00:21:07,900 --> 00:21:11,669
The one you care about is       
obviously the context to        

492
00:21:11,671 --> 00:21:12,970
draw in your drawrect.          

493
00:21:12,972 --> 00:21:14,839
And you get that by             
calling this function.          

494
00:21:14,841 --> 00:21:15,773
This is just a Swift function,  

495
00:21:15,775 --> 00:21:17,141
it's not on a class or          
anything.                       

496
00:21:17,143 --> 00:21:19,377
UIGraphicsGetCurrentContext(),  
and                             

497
00:21:19,379 --> 00:21:22,680
that's going to get you         
a context that you can then     

498
00:21:22,682 --> 00:21:26,417
tell it to create a path by     
moving and all that stuff.      

499
00:21:26,419 --> 00:21:29,520
Which is what you do then,      
you create these paths out of   

500
00:21:29,522 --> 00:21:31,589
lines and arcs and              
things like that.               

501
00:21:31,591 --> 00:21:34,158
Then you set drawing            
attributes in the context,      

502
00:21:34,160 --> 00:21:37,028
like the colors you wanna use,  
the fonts if you're doing       

503
00:21:37,030 --> 00:21:40,298
text, line widths,              
those kinds of things.          

504
00:21:40,300 --> 00:21:42,633
You set those all up, and       
then you stroke and fill.       

505
00:21:42,635 --> 00:21:43,567
And that's it, stroking and     

506
00:21:43,569 --> 00:21:46,937
filling are actually the only   
two directives that actually    

507
00:21:46,939 --> 00:21:49,073
cause something to              
happen on screen.               

508
00:21:49,075 --> 00:21:49,373
But keep in mind that, like,    

509
00:21:49,375 --> 00:21:54,612
a font is basically just a      
really exquisite path filled,   

510
00:21:54,614 --> 00:21:56,580
okay, or stroked and filled.    

511
00:21:56,582 --> 00:21:59,817
So you can do a lot with        
stroking and filling.           

512
00:21:59,819 --> 00:22:02,520
So UIBezierPath kinda           
encapsulates all of those       

513
00:22:02,522 --> 00:22:04,722
Core Graphics concepts          
into an object.                 

514
00:22:04,724 --> 00:22:07,558
And so I have an example here   
to show you how I would use     

515
00:22:07,560 --> 00:22:11,862
UIBezierPath to draw            
a triangle on screen.           

516
00:22:11,864 --> 00:22:14,398
First, I'm gonna create         
the path by just saying,        

517
00:22:14,400 --> 00:22:15,232
path = UIBezierPath().          

518
00:22:15,234 --> 00:22:17,101
There are other                 
initializers for it,            

519
00:22:17,103 --> 00:22:17,668
which we'll see in the demo.    

520
00:22:17,670 --> 00:22:20,504
But this one just creates       
a blank path to start.          

521
00:22:20,506 --> 00:22:22,306
Then, you move around           
with the path.                  

522
00:22:22,308 --> 00:22:24,742
So like I can say,              
move to, which (80,             

523
00:22:24,744 --> 00:22:28,379
50) is like halfway across      
this, this little screen.       

524
00:22:28,381 --> 00:22:32,316
This is small screen,           
let's say, 160 points wide.     

525
00:22:32,318 --> 00:22:33,517
80 and then 50 down, okay?      

526
00:22:33,519 --> 00:22:38,589
Then I'm gonna add a line down  
to 140, 50, see that, okay?     

527
00:22:38,591 --> 00:22:41,792
Then I'm gonna add              
another line over to 10,        

528
00:22:41,794 --> 00:22:44,795
off to the left,                
I'm still 150 down.             

529
00:22:44,797 --> 00:22:47,932
Then I'm gonna close the path,  
okay, using close, and          

530
00:22:47,934 --> 00:22:50,067
that just closes it             
back to the start.              

531
00:22:50,069 --> 00:22:52,269
So look, I made a triangle,     
okay, really easy.              

532
00:22:52,271 --> 00:22:55,806
Now, the only thing is,         
all this code right here would  

533
00:22:55,808 --> 00:22:59,777
actually draw, instead of       
that triangle right there,      

534
00:22:59,779 --> 00:23:01,879
would draw this: nothing.       

535
00:23:01,881 --> 00:23:05,516
You would see no drawing with   
that code because we haven't    

536
00:23:05,518 --> 00:23:06,217
stroked or filled it.           

537
00:23:06,219 --> 00:23:08,486
The stroking and                
filling is what draws.          

538
00:23:08,488 --> 00:23:09,587
So how do we do                 
the stroking and fill?          

539
00:23:09,589 --> 00:23:12,757
Well, we need to set the        
colors that we wanna fill and   

540
00:23:12,759 --> 00:23:15,092
stroke with.                    

541
00:23:15,094 --> 00:23:16,494
But here, I'm taking green and  

542
00:23:16,496 --> 00:23:17,828
sending it                      
the message setFill.            

543
00:23:17,830 --> 00:23:21,065
So you actually set             
your color to fill with         

544
00:23:21,067 --> 00:23:23,634
by sending a message            
to a color.                     

545
00:23:23,636 --> 00:23:25,336
You get a color, and            
you send it a message,          

546
00:23:25,338 --> 00:23:26,437
set that as my fill color.      

547
00:23:26,439 --> 00:23:27,471
And the same thing              
with a stroke,                  

548
00:23:27,473 --> 00:23:27,571
set it as a stroke color.       

549
00:23:27,573 --> 00:23:31,675
So I set my stroke color to     
red, my fill color to green.    

550
00:23:31,677 --> 00:23:34,612
But when I'm talking about      
attributes like line width,     

551
00:23:34,614 --> 00:23:37,615
I send that to the path,        
to the UIBezierPath.            

552
00:23:37,617 --> 00:23:40,184
Set your line width to three,   
okay, so I do that.             

553
00:23:40,186 --> 00:23:44,822
Now, if I say path.fill,        
now I get a green triangle.     

554
00:23:44,824 --> 00:23:45,856
Because my fill                 
color was green,                

555
00:23:45,858 --> 00:23:48,292
and it takes that path and      
it fills it in.                 

556
00:23:48,294 --> 00:23:49,727
That's what fill does.          

557
00:23:49,729 --> 00:23:52,963
And similarly,                  
if I say path.stroke,           

558
00:23:52,965 --> 00:23:54,198
I get a red line around.        

559
00:23:54,200 --> 00:23:57,868
Because the path that I took    
to get around there gets        

560
00:23:57,870 --> 00:24:01,205
stroked with a three-point      
wide red line.                  

561
00:24:01,207 --> 00:24:04,308
So that's it,                   
that's quite simple actually.   

562
00:24:04,310 --> 00:24:05,543
That's how we draw.             

563
00:24:06,311 --> 00:24:06,677
And, UIBezierPath also knows    
how to draw a lot of common     

564
00:24:06,679 --> 00:24:09,346
Okay?                           

565
00:24:09,348 --> 00:24:12,216
shapes, like rounded            
rectangles, and ovals, and      

566
00:24:12,218 --> 00:24:15,219
things like that, so you        
should familiarize yourself     

567
00:24:15,221 --> 00:24:19,089
with UIBezierPath's API,        
of course.                      

568
00:24:19,091 --> 00:24:21,525
Another cool thing you can      
do with UIBezierPath is you     

569
00:24:21,527 --> 00:24:23,093
create a path like              
that triangle, and              

570
00:24:23,095 --> 00:24:26,697
you can clip all your           
drawings to that path.          

571
00:24:26,699 --> 00:24:29,333
So you could draw this          
elaborate picture that only     

572
00:24:29,335 --> 00:24:31,802
show the part that shows        
through that triangle,          

573
00:24:31,804 --> 00:24:34,405
if you take that triangle       
path that we just created and   

574
00:24:34,407 --> 00:24:36,540
say add clip to it.             

575
00:24:36,542 --> 00:24:36,640
Because after that,             

576
00:24:36,642 --> 00:24:40,911
all drawing is only gonna       
show up inside that triangle,   

577
00:24:40,913 --> 00:24:40,945
you can make some pretty        
cool effects by doing it.       

578
00:24:40,947 --> 00:24:45,850
which is kinda cool,            

579
00:24:45,852 --> 00:24:47,585
The UIBezierPath                
also knows how to,              

580
00:24:47,587 --> 00:24:49,520
it has this method              
contains that will,             

581
00:24:49,522 --> 00:24:52,122
tell you whether a point        
is inside the path.             

582
00:24:52,124 --> 00:24:54,892
So that's good if you want to   
do some touch thing or people   

583
00:24:54,894 --> 00:24:58,095
are touching on something and   
you wanna do hit detection,     

584
00:24:58,097 --> 00:24:59,763
basically, what                 
they're touching on.            

585
00:24:59,765 --> 00:25:01,832
All right, and there's tons of  
other stuff in UIBezierPath,    

586
00:25:01,834 --> 00:25:04,134
don't have time to cover it,    
you should look it up.          

587
00:25:04,136 --> 00:25:05,736
Okay, UIColor.                  

588
00:25:05,738 --> 00:25:06,871
So UIColor, really simple.      

589
00:25:06,873 --> 00:25:10,174
Okay, there's some common       
colors like green, red,         

590
00:25:10,176 --> 00:25:10,941
yellow, purple.                 

591
00:25:10,943 --> 00:25:12,676
Those have type                 
methods on UIColor.             

592
00:25:12,678 --> 00:25:14,745
Remember, type methods,         
static methods?                 

593
00:25:14,747 --> 00:25:15,246
They're on the type.            

594
00:25:15,248 --> 00:25:16,547
You don't need                  
an instance of it.              

595
00:25:16,549 --> 00:25:18,215
So that's like UIColor.green.   

596
00:25:18,217 --> 00:25:21,452
But there's also initializers   
that let you create colors      

597
00:25:21,454 --> 00:25:25,856
from RGB, red, green, blue, or  
HSB, that's hue, saturation,    

598
00:25:25,858 --> 00:25:25,923
You can even create a color     
that's made from a pattern.     

599
00:25:25,925 --> 00:25:29,126
brightness.                     

600
00:25:29,128 --> 00:25:31,161
So that when you draw           
with that color,                

601
00:25:31,163 --> 00:25:32,496
it's drawing in a pattern.      

602
00:25:32,498 --> 00:25:33,063
Okay, like a really             
thick line,                     

603
00:25:33,065 --> 00:25:35,232
we'd actually be showing        
the details of a pattern,       

604
00:25:35,234 --> 00:25:37,167
which is kind of fun,           
using UIImage,                  

605
00:25:37,169 --> 00:25:39,303
which I'll talk about           
in a little bit.                

606
00:25:39,671 --> 00:25:42,473
Of course, all UIViews          
have a background color.        

607
00:25:42,475 --> 00:25:46,076
We saw this when we did our     
buttons in the calculator,      

608
00:25:46,078 --> 00:25:47,044
we made the background color    

609
00:25:47,046 --> 00:25:49,747
of a lot of our buttons be      
light gray, and I'm sure in     

610
00:25:49,749 --> 00:25:51,815
the homework assignments        
you made it other colors.       

611
00:25:51,817 --> 00:25:53,884
Okay, that's just               
a var on UIView,                

612
00:25:53,886 --> 00:25:55,819
that button inherited           
from UIView.                    

613
00:25:55,821 --> 00:25:57,988
And you can set it to           
any UIColor you want.           

614
00:25:57,990 --> 00:26:01,158
Now, an interesting thing       
about colors though is that     

615
00:26:01,160 --> 00:26:05,129
they can be transparent, or     
even semi-transparent, okay?    

616
00:26:05,131 --> 00:26:08,432
And they are done,              
you specify that with alpha.    

617
00:26:08,434 --> 00:26:10,200
How many people here            
know what alpha                 

618
00:26:10,202 --> 00:26:11,936
is when it comes to graphics?   

619
00:26:12,370 --> 00:26:12,970
Okay, so hardly anybody.        

620
00:26:12,972 --> 00:26:17,207
So alpha is just a value        
between 0 and 1, where 0 means  

621
00:26:17,209 --> 00:26:20,177
fully transparent and           
1 is fully opaque.              

622
00:26:20,179 --> 00:26:22,146
So if you have a color          
like a triangle and             

623
00:26:22,148 --> 00:26:25,015
you fill it with green,         
then if it's fully opaque,      

624
00:26:25,017 --> 00:26:27,851
you can't see anything          
behind that triangle.           

625
00:26:27,853 --> 00:26:29,887
But if it were 50%, 0.5 alpha,  

626
00:26:29,889 --> 00:26:31,922
then you'd be able              
to see the green but            

627
00:26:31,924 --> 00:26:36,460
you'd also be able to see the   
things behind it a little bit.  

628
00:26:36,462 --> 00:26:37,861
50% kinda, okay?                

629
00:26:37,863 --> 00:26:39,229
If it was zero,                 
you wouldn't see any            

630
00:26:39,231 --> 00:26:41,198
green because it would          
be fully transparent.           

631
00:26:41,200 --> 00:26:42,433
You'd be looking all            
the way through it, so          

632
00:26:42,435 --> 00:26:43,968
you wouldn't see any green,     
okay?                           

633
00:26:43,970 --> 00:26:46,203
So, all that you can put        
anywhere in that range, and     

634
00:26:46,205 --> 00:26:48,872
the way you create a            
transparent color is by taking  

635
00:26:48,874 --> 00:26:52,776
a opaque color and saying,      
withAlphaComponent,             

636
00:26:52,778 --> 00:26:55,279
whatever alpha you              
want between 0 and 1.           

637
00:26:55,281 --> 00:26:56,814
Okay?                           
And that gives you              

638
00:26:56,816 --> 00:26:57,414
a transparent or                

639
00:26:57,416 --> 00:27:00,584
semi-transparent version        
of the color.                   

640
00:27:00,586 --> 00:27:01,185
And you can draw with that.     

641
00:27:01,187 --> 00:27:06,657
However, if you draw with       
transparency in your UIView,    

642
00:27:06,659 --> 00:27:10,027
you must set this               
var on your UIView.             

643
00:27:10,029 --> 00:27:12,730
This is just a var              
in UIView to false.             

644
00:27:12,732 --> 00:27:14,598
Okay?                           
Because views assume that       

645
00:27:14,600 --> 00:27:16,400
they're fully opaque, okay?     

646
00:27:16,402 --> 00:27:18,135
And that's performance          
enhancement.                    

647
00:27:18,137 --> 00:27:19,703
It turns out drawing            
with transparency,              

648
00:27:19,705 --> 00:27:22,039
as you might imagine, takes     
a little bit of CPU power       

649
00:27:22,041 --> 00:27:24,875
to figure out which pixels      
show through and all that.      

650
00:27:24,877 --> 00:27:27,978
So, by default, it assumes      
you're drawing fully opaque.    

651
00:27:27,980 --> 00:27:29,513
So if you wanna draw            
with transparency,              

652
00:27:29,515 --> 00:27:32,816
don't forget to set             
opaque here to false.           

653
00:27:32,818 --> 00:27:37,354
By the way, you can make your   
entire view semi-transparent    

654
00:27:37,356 --> 00:27:38,589
by setting its alpha.           

655
00:27:38,591 --> 00:27:40,958
So this is a var,               
not in color,                   

656
00:27:40,960 --> 00:27:42,626
this is a var in UIView.        

657
00:27:42,628 --> 00:27:43,994
You can say, alpha 0.5,         

658
00:27:43,996 --> 00:27:48,032
in your entire view will        
be 50% see-through.             

659
00:27:48,034 --> 00:27:49,333
And that would work             
with a button or                

660
00:27:49,335 --> 00:27:52,102
anything because those          
are just UIViews.               

661
00:27:53,104 --> 00:27:54,071
Alright?                        

662
00:27:55,173 --> 00:27:57,875
What happens when               
views overlap and               

663
00:27:57,877 --> 00:27:59,843
we have transparency            
in the views?                   

664
00:27:59,845 --> 00:28:03,013
Well, then that subviews        
that we're talking about,       

665
00:28:03,015 --> 00:28:07,117
all the subviews of a view      
starts to matter in the order.  

666
00:28:07,119 --> 00:28:08,419
So the first thing              
in the subview,                 

667
00:28:08,421 --> 00:28:11,555
subview sub zero, that's        
all the way in the back.        

668
00:28:11,557 --> 00:28:14,558
And then everything else        
is in the order in front of     

669
00:28:14,560 --> 00:28:14,758
it, okay?                       

670
00:28:14,760 --> 00:28:17,828
And so, any transparency        
that's going on is things       

671
00:28:17,830 --> 00:28:20,497
stacked up in that order, and   
you're looking down through     

672
00:28:20,499 --> 00:28:23,634
the transparency, all           
the way up to subview zero,     

673
00:28:23,636 --> 00:28:26,437
so which is in the back, okay?  

674
00:28:27,605 --> 00:28:29,339
You can also completely         
hide a view.                    

675
00:28:29,341 --> 00:28:32,543
This is very similar--almost    
identical to--saying            

676
00:28:32,545 --> 00:28:32,876
alpha equals zero.              

677
00:28:32,878 --> 00:28:34,878
Which will just make the view   
not even appear, but            

678
00:28:34,880 --> 00:28:36,346
it will be still in             
the view hierarchy.             

679
00:28:36,348 --> 00:28:38,015
It will be still in             
its superview and               

680
00:28:38,017 --> 00:28:40,584
its subviews will still         
be subviews of it, but          

681
00:28:40,586 --> 00:28:42,953
it all will be                  
completely hidden.              

682
00:28:42,955 --> 00:28:43,921
And why would you               
wanna do this?                  

683
00:28:43,923 --> 00:28:47,458
Maybe you have some UI where    
you don't wanna show a button   

684
00:28:47,460 --> 00:28:50,527
until the user has entered      
some other field or             

685
00:28:50,529 --> 00:28:50,761
something like that.            

686
00:28:50,763 --> 00:28:52,029
But you wanna make room for     
the button.                     

687
00:28:52,031 --> 00:28:53,897
You want it to be               
ready to appear, so             

688
00:28:53,899 --> 00:28:56,934
you leave it in the view        
hierarchy, but hidden.          

689
00:28:56,936 --> 00:28:59,737
Okay?                           
Alright,                        

690
00:28:59,739 --> 00:29:01,105
let's talk about drawing text.  

691
00:29:01,107 --> 00:29:01,438
How do we draw text?            

692
00:29:01,440 --> 00:29:03,941
Well, one way to draw text      
you already know is UILabel.    

693
00:29:03,943 --> 00:29:06,877
You could just create a         
UILabel and make it a subview   

694
00:29:06,879 --> 00:29:10,380
of your view and bingo, you     
got some text in your view.     

695
00:29:10,382 --> 00:29:12,015
And now,                        
the only problem with that is,  

696
00:29:12,017 --> 00:29:14,852
you're drawing in your draw,    
your drawRect thing,            

697
00:29:14,854 --> 00:29:15,652
you're drawing in there.        

698
00:29:15,654 --> 00:29:18,522
And you have to make sure you   
drew, if you're drawing around  

699
00:29:18,524 --> 00:29:20,691
the text that it all lined      
up with your subviews.          

700
00:29:20,693 --> 00:29:23,494
So sometimes you wanna          
draw in drawRect, right?        

701
00:29:23,496 --> 00:29:24,461
You want to actually            
draw in there.                  

702
00:29:24,463 --> 00:29:27,831
And the way you do that         
is with a class called          

703
00:29:27,833 --> 00:29:29,933
NSAttributedString, okay?       

704
00:29:29,935 --> 00:29:33,370
So NSAttributedString           
is not a string.                

705
00:29:33,372 --> 00:29:36,440
It's not related in any way     
actually to string, and         

706
00:29:36,442 --> 00:29:39,843
it's not even an NSString       
which is the old Objective-C    

707
00:29:39,845 --> 00:29:42,579
style string that was           
indexed by ints where           

708
00:29:42,581 --> 00:29:46,683
the Swift's one is indexed by   
string.index, unfortunately.    

709
00:29:46,685 --> 00:29:49,186
It's neither of those,          
it's its own thing.             

710
00:29:49,188 --> 00:29:49,253
Okay?                           

711
00:29:49,255 --> 00:29:51,789
It's very closely               
aligned to old NSString,        

712
00:29:51,791 --> 00:29:54,558
not as closely aligned          
to the modern string.           

713
00:29:54,560 --> 00:29:57,661
But anyway, what an attributed  
string is it's a string,        

714
00:29:57,663 --> 00:29:59,797
you can make it out of          
a string or an NSString.        

715
00:29:59,799 --> 00:30:03,433
And those characters have       
attributes, colors and          

716
00:30:03,435 --> 00:30:05,803
fonts and                       
things like that, okay?         

717
00:30:05,805 --> 00:30:06,470
And it's very simple,           

718
00:30:06,472 --> 00:30:07,638
you create one of               
these strings and               

719
00:30:07,640 --> 00:30:10,574
you just send it to message     
draw at and it will draw        

720
00:30:10,576 --> 00:30:15,045
that string at that point       
at its upper left corner.       

721
00:30:15,680 --> 00:30:16,046
Then you can even find out      
the size it's going to need to  

722
00:30:16,048 --> 00:30:17,781
Okay?                           

723
00:30:17,783 --> 00:30:22,352
draw it by sending the message  
size to an attributed string.   

724
00:30:22,687 --> 00:30:24,054
Okay?                           
Now one thing that's            

725
00:30:24,056 --> 00:30:25,722
kind of bummer about            
attributed string,              

726
00:30:25,724 --> 00:30:30,761
it's really an old style API,   

727
00:30:30,763 --> 00:30:34,898
var and let don't even work     
to make it mutable or not.      

728
00:30:34,900 --> 00:30:37,234
So if you want a mutable        
attributed string, attributed   

729
00:30:37,236 --> 00:30:39,002
string where you're gonna       
change its attributes and       

730
00:30:39,004 --> 00:30:42,372
change its text, you need to    
have a different class called   

731
00:30:42,374 --> 00:30:45,909
NSMutableAttributedString.      

732
00:30:45,911 --> 00:30:48,078
So things like set attributes,  
and things of that,             

733
00:30:48,080 --> 00:30:49,513
don't work on                   
an attributed string.           

734
00:30:49,515 --> 00:30:52,683
You have a mutable              
attributed string.              

735
00:30:52,685 --> 00:30:55,452
Now, you can, if you have an    
attributed string, mutable or   

736
00:30:55,454 --> 00:30:58,455
not, you can get back           
the string that's in it         

737
00:30:58,457 --> 00:31:02,659
as a string object using        
the var string, or              

738
00:31:02,661 --> 00:31:05,128
mutable string in               
a mutable case.                 

739
00:31:05,797 --> 00:31:06,496
That's kinda                    
confusing because,              

740
00:31:06,498 --> 00:31:09,099
of course, you're used to var   
and let being how a string is   

741
00:31:09,101 --> 00:31:12,903
mutable or not, but that's how  
you can get the string back.    

742
00:31:12,905 --> 00:31:14,605
But let's talk about how        
you set the attributes.         

743
00:31:14,607 --> 00:31:18,542
So you set the attributes just  
by passing in this dictionary,  

744
00:31:18,544 --> 00:31:18,809
called attributes there.        

745
00:31:18,811 --> 00:31:22,079
You can either set attributes   
or add attributes to what's     

746
00:31:22,081 --> 00:31:25,115
already there, and              
this dictionary, String:Any,    

747
00:31:25,117 --> 00:31:27,718
the string is just a key like   
this is telling you what        

748
00:31:27,720 --> 00:31:31,889
the attribute is, like it's a   
font, or a color, or whatever.  

749
00:31:31,891 --> 00:31:32,789
And then the Any is,            

750
00:31:32,791 --> 00:31:34,024
it might be a font,             
it might be a color,            

751
00:31:34,026 --> 00:31:37,261
depends on what the key is,     
that's why it's an Any there,   

752
00:31:37,263 --> 00:31:39,363
because it can be               
all kinds of things.            

753
00:31:39,365 --> 00:31:42,266
And really important to         
notice here is the range.       

754
00:31:42,268 --> 00:31:42,399
You see that range?             

755
00:31:42,401 --> 00:31:46,837
It's not range that I           
talked to you on Wednesday,     

756
00:31:46,839 --> 00:31:47,771
it's NSRange.                   

757
00:31:47,773 --> 00:31:52,442
NSRange is an integer indexed   
range into that string,         

758
00:31:52,444 --> 00:31:54,645
that attributed string.         

759
00:31:54,647 --> 00:31:56,747
Old style integer,              
not string.index.               

760
00:31:56,749 --> 00:32:00,217
So this makes for a lot of      
trouble when you're using       

761
00:32:00,219 --> 00:32:02,419
attributed string               
in the Swift world.             

762
00:32:02,421 --> 00:32:06,256
And my recommendation to you    
is that you use this method or  

763
00:32:06,258 --> 00:32:08,892
this var rather on              
String called utf16.            

764
00:32:08,894 --> 00:32:11,929
utf16 will give you             
back what's called              

765
00:32:11,931 --> 00:32:12,996
a String.UTF16View.             

766
00:32:12,998 --> 00:32:16,400
That is a collection of the     
characters, it's not really     

767
00:32:16,402 --> 00:32:20,170
a collection like characters    
is, but it is a representation  

768
00:32:20,172 --> 00:32:23,774
of the string as distinct       
16-bit Unicode characters.      

769
00:32:23,776 --> 00:32:26,743
Which is much more aligned,     
in fact I think it's exactly    

770
00:32:26,745 --> 00:32:29,279
aligned, to what                
NSString does.                  

771
00:32:29,281 --> 00:32:31,515
The only problem is,            
that thing that it gets,        

772
00:32:31,517 --> 00:32:34,117
that comes back, is still       
indexed by String.Index.        

773
00:32:34,119 --> 00:32:37,554
So you have to say what's the   
startIndex, offset by five,     

774
00:32:37,556 --> 00:32:39,990
that kind of business to        
move around in there.           

775
00:32:39,992 --> 00:32:43,593
And plus, you can't pass        
a range of String.Index into    

776
00:32:43,595 --> 00:32:44,194
this setAttribute.              

777
00:32:44,196 --> 00:32:47,664
So you have to kinda            
convert from String.Index,      

778
00:32:47,666 --> 00:32:49,499
how much you've advanced over,  

779
00:32:49,501 --> 00:32:53,136
to an integer when you          
make these NSRanges.            

780
00:32:53,138 --> 00:32:54,604
So, I'm sorry to                
say it's difficult.             

781
00:32:54,606 --> 00:32:56,673
I'm not gonna actually          
ask you to do that,             

782
00:32:56,675 --> 00:32:57,207
this in the homework.           

783
00:32:57,209 --> 00:32:59,042
Partially because it, it's      
kind of a pain in the neck.     

784
00:32:59,044 --> 00:33:01,912
And I don't want you to         
spend your valuable homework    

785
00:33:01,914 --> 00:33:02,279
time working on it.             

786
00:33:02,281 --> 00:33:04,181
But just know,                  
if you start using this,        

787
00:33:04,183 --> 00:33:07,918
that you're gonna have this     
unfortunate disconnect.         

788
00:33:07,920 --> 00:33:09,920
And I keep hoping every         
time iOS comes out,             

789
00:33:09,922 --> 00:33:12,656
they'll come out with an        
attributed string, not NS, but  

790
00:33:12,658 --> 00:33:15,525
attributed string,              
that's matched up with string.  

791
00:33:15,527 --> 00:33:17,094
But they haven't done it yet.   

792
00:33:17,096 --> 00:33:20,063
It's pretty complicated to do,  
I can imagine, so.              

793
00:33:20,065 --> 00:33:22,499
So what are some of these       
attributes that you can set?    

794
00:33:22,501 --> 00:33:25,268
So there's things like          
NSForegroundColorAttributeN-    

795
00:33:25,270 --> 00:33:27,504
ame, that's how you set         
the color of the text.          

796
00:33:27,506 --> 00:33:30,140
There's also                    
NSBackgroundColorAttributeName  

797
00:33:30,142 --> 00:33:33,543
which, fonts have foregrounds   
and backgrounds, but            

798
00:33:33,545 --> 00:33:35,145
don't worry about               
that too much.                  

799
00:33:35,147 --> 00:33:35,312
NSStrokeWidth so                

800
00:33:35,314 --> 00:33:37,981
you can draw your characters    
really thick or thin.           

801
00:33:37,983 --> 00:33:41,918
NSFontAttributeName, where      
you can provide a font.         

802
00:33:41,920 --> 00:33:42,986
And there's about 15 others,    

803
00:33:42,988 --> 00:33:46,390
and you can go look in the      
documentation for all of them.  

804
00:33:46,392 --> 00:33:46,923
But speaking of fonts,          

805
00:33:46,925 --> 00:33:49,726
if you wanna set the font       
you're gonna draw with,         

806
00:33:49,728 --> 00:33:50,193
how do you do that?             

807
00:33:50,195 --> 00:33:53,163
Well, fonts are super           
important in iOS.               

808
00:33:53,165 --> 00:33:56,733
Never underestimate the power   
of a font in building           

809
00:33:56,735 --> 00:33:57,434
a cool UI.                      

810
00:33:57,436 --> 00:33:57,868
Look at all these UIs.          

811
00:33:57,870 --> 00:34:01,304
Look at how important           
the choice of font, size,       

812
00:34:01,306 --> 00:34:03,507
position, all that stuff is.    

813
00:34:03,509 --> 00:34:07,310
So, how do we get a good font   
so that our UI will look good?  

814
00:34:07,312 --> 00:34:10,414
Well, we're gonna use this      
very important static           

815
00:34:10,416 --> 00:34:10,981
method in UIFont.               

816
00:34:10,983 --> 00:34:13,617
So you send this to UIFont,     
the class,                      

817
00:34:13,619 --> 00:34:16,553
called preferredFont            
forTextStyle, okay?             

818
00:34:16,555 --> 00:34:19,256
And so you can specify the      
text style, which is kind of    

819
00:34:19,258 --> 00:34:22,793
like, what's the environment    
you're gonna use this text,     

820
00:34:22,795 --> 00:34:24,494
what kinda text is it?          

821
00:34:24,496 --> 00:34:27,631
And so there's about eight or   
so of them.                     

822
00:34:27,633 --> 00:34:29,633
But three of them               
are like a headline.            

823
00:34:29,635 --> 00:34:30,133
This is gonna be a headline.    

824
00:34:30,135 --> 00:34:33,270
So that's gonna be a bolder     
font, a little larger maybe.    

825
00:34:33,272 --> 00:34:36,973
Then body font, that's like,    
this is the user's data.        

826
00:34:36,975 --> 00:34:37,474
So in a Mail message,           

827
00:34:37,476 --> 00:34:40,143
this would be the message       
they're actually typing         

828
00:34:40,145 --> 00:34:42,145
maybe--although it's            
probably a multi-font.          

829
00:34:42,147 --> 00:34:46,049
But, and then footnote would    
just be a small little text,    

830
00:34:46,051 --> 00:34:47,017
you see, from the bottom?       

831
00:34:47,019 --> 00:34:50,087
So I really encourage you       
when you're using a font,       

832
00:34:50,089 --> 00:34:52,956
try to find a text style        
that will work, okay?           

833
00:34:52,958 --> 00:34:54,424
Because it's gonna              
be in sync and                  

834
00:34:54,426 --> 00:34:56,059
compatible with all             
the other apps,                 

835
00:34:56,061 --> 00:34:58,261
because they're using           
these preferred fonts.          

836
00:34:58,263 --> 00:35:01,198
And also, by the way,           
if a user goes in Settings and  

837
00:35:01,200 --> 00:35:03,400
sets their font size            
to be really large,             

838
00:35:03,402 --> 00:35:05,635
these will automatically        
get larger, okay?               

839
00:35:05,637 --> 00:35:09,106
And, hopefully, if you have     
your Auto-Layout working,       

840
00:35:09,108 --> 00:35:13,110
everything will expand or       
contract properly, okay?        

841
00:35:13,112 --> 00:35:14,277
There's also system fonts.      

842
00:35:14,279 --> 00:35:17,147
Don't get confused between      
the preferred fonts and         

843
00:35:17,149 --> 00:35:20,750
system fonts.                   

844
00:35:20,752 --> 00:35:24,020
Preferred fonts are for         
the user's content.             

845
00:35:24,422 --> 00:35:27,390
So, that's                      
the difference there.           

846
00:35:27,392 --> 00:35:28,792
Now, most of this stuff,        
again,                          

847
00:35:28,794 --> 00:35:30,193
you're not even                 
gonna set in code.              

848
00:35:30,195 --> 00:35:32,362
You're gonna set it in          
Interface Builder in            

849
00:35:32,364 --> 00:35:33,930
the little Inspector window,    
right?                          

850
00:35:33,932 --> 00:35:37,000
You're gonna be setting,        
both preferred fonts and        

851
00:35:37,002 --> 00:35:38,535
system fonts can be set there.  

852
00:35:38,537 --> 00:35:43,874
If you wanna use a specific     
font like Helvetica Bold 13     

853
00:35:43,876 --> 00:35:46,276
point, you can do that.         

854
00:35:46,278 --> 00:35:46,910
I don't recommend it,           

855
00:35:46,912 --> 00:35:50,080
but UIFontDescriptor is         
an important class to know      

856
00:35:50,082 --> 00:35:50,213
It's how you describe           
that font that you want,        

857
00:35:50,215 --> 00:35:52,916
for that.                       

858
00:35:52,918 --> 00:35:53,283
that special font.              

859
00:35:53,285 --> 00:35:56,086
So, you know, some apps,        
typography is what they do.     

860
00:35:56,088 --> 00:35:59,022
And so they need to be          
able to do specific fonts.      

861
00:35:59,024 --> 00:36:01,725
Alright, so that's text.        

862
00:36:01,727 --> 00:36:02,859
How about drawing images?       

863
00:36:02,861 --> 00:36:06,229
So images, again, you,          
we have a thing like UILabel.   

864
00:36:06,231 --> 00:36:06,830
It's called UIImageView.        

865
00:36:06,832 --> 00:36:08,932
And you could just make         
an image be a subview of        

866
00:36:08,934 --> 00:36:11,168
your view if you wanted to      
have an image in there.         

867
00:36:11,170 --> 00:36:14,504
But, again, sometimes you       
wanna be able to control that   

868
00:36:14,506 --> 00:36:16,339
in your draw, your drawRect.    

869
00:36:16,341 --> 00:36:18,575
And we do that with             
the UIImage object, okay?       

870
00:36:18,577 --> 00:36:20,544
I already showed you actually   
when I was talking about        

871
00:36:20,546 --> 00:36:22,979
failable initializers           
how to create a UIImage.        

872
00:36:22,981 --> 00:36:26,449
You just put it in              
your xcassets file              

873
00:36:26,451 --> 00:36:27,717
in Interface Builder.           

874
00:36:27,719 --> 00:36:31,688
And then you say UIImage        
named, and it gets it by name.  

875
00:36:31,690 --> 00:36:33,223
And if it can't find it,        
it returns nil.                 

876
00:36:33,225 --> 00:36:36,393
So that's the number one way    
you're gonna get an image into  

877
00:36:36,395 --> 00:36:37,827
your app is put                 
it in xcassets.                 

878
00:36:37,829 --> 00:36:38,662
But there are other             
ways to do it.                  

879
00:36:38,664 --> 00:36:41,598
You can get it from a file,     
like if you had a .jpg file.    

880
00:36:41,600 --> 00:36:43,900
Of course, I haven't shown      
you how to get files.           

881
00:36:43,902 --> 00:36:45,702
So you don't know               
how to do that yet.             

882
00:36:45,704 --> 00:36:47,237
But, you can do it that way.    

883
00:36:47,239 --> 00:36:50,006
And you can also get it just    
from raw data, raw jpg data or  

884
00:36:50,008 --> 00:36:53,310
something that you got over     
the Internet or from a URL or   

885
00:36:53,312 --> 00:36:54,477
something, you can do that.     

886
00:36:54,479 --> 00:36:57,547
You can even do it by drawing   
with all those path things.     

887
00:36:57,549 --> 00:37:00,517
You can use this                
UIGraphicsBeginImageContext     

888
00:37:00,519 --> 00:37:01,618
for a certain size region.      

889
00:37:01,620 --> 00:37:04,154
And then you can just           
use UIBezierpath draw or        

890
00:37:04,156 --> 00:37:07,324
get graphics context,           
whatever, draw in there.        

891
00:37:07,326 --> 00:37:09,793
And then there's                
an EndImageContext.             

892
00:37:09,795 --> 00:37:12,596
And it'll capture it and        
create a little image for you.  

893
00:37:12,598 --> 00:37:14,064
So that's another               
way to do it.                   

894
00:37:14,066 --> 00:37:16,967
So once you have an image,      
okay, that you got from any of  

895
00:37:16,969 --> 00:37:19,936
these sources, you can just     
draw it inside your drawRect    

896
00:37:19,938 --> 00:37:23,106
by saying draw atPoint or       
draw inRect.                    

897
00:37:23,108 --> 00:37:28,445
Or actually, I think that's     
probably drawAt space point,    

898
00:37:28,447 --> 00:37:29,379
not atPoint:.                   

899
00:37:29,381 --> 00:37:34,351
And drawIn space rect and       
drawAsPatternIn space rect.     

900
00:37:34,353 --> 00:37:36,653
Those do kind of what           
you would think, right?         

901
00:37:36,655 --> 00:37:39,089
draw atPoint draws it where     
that's the upper left hand      

902
00:37:39,091 --> 00:37:41,057
corner, it draws it             
in its natural size.            

903
00:37:41,059 --> 00:37:44,894
draw inRect is going to         
scale it to fit inside          

904
00:37:44,896 --> 00:37:47,297
the rectangle                   
that you provide.               

905
00:37:47,299 --> 00:37:49,432
And drawAsPattern               
is gonna tile it.               

906
00:37:49,434 --> 00:37:51,167
So presumably that's            
a small image and               

907
00:37:51,169 --> 00:37:53,069
you're drawing a texture or     
something.                      

908
00:37:53,071 --> 00:37:55,472
And it's gonna                  
repeat it over and              

909
00:37:55,474 --> 00:37:58,508
over to fill the rectangle,     
okay?                           

910
00:37:58,510 --> 00:38:00,043
I'll fix this slide and         
repost it.                      

911
00:38:00,045 --> 00:38:05,115
Alright, one thing to be        
careful of with UIView.         

912
00:38:05,117 --> 00:38:06,950
When UIView changes size,       

913
00:38:06,952 --> 00:38:10,887
you do not get asked            
to redraw by default.           

914
00:38:10,889 --> 00:38:12,422
What it does is, believe it or  

915
00:38:12,424 --> 00:38:16,393
not, takes what you've drawn,   
grabs the pixels, and           

916
00:38:16,395 --> 00:38:19,262
stretches them to               
fit the new bounds.             

917
00:38:19,264 --> 00:38:21,364
Okay, now, this is often        
not what you want.              

918
00:38:21,366 --> 00:38:23,633
Often, what you want is,        
okay, if my bounds change,      

919
00:38:23,635 --> 00:38:27,537
ask me to redraw again          
in my new bounds, okay?         

920
00:38:27,539 --> 00:38:28,805
So how is this controlled?      

921
00:38:28,807 --> 00:38:31,841
It's controlled via this var    
in UIView called contentMode.   

922
00:38:31,843 --> 00:38:35,612
And the contentMode can be      
things like left, right, top,   

923
00:38:35,614 --> 00:38:37,080
bottom, topRight, topLeft.      

924
00:38:37,082 --> 00:38:39,149
That's basically saying,        
take my bits and                

925
00:38:39,151 --> 00:38:41,751
shove them up into              
the left corner you know,       

926
00:38:41,753 --> 00:38:43,687
one of these spots,             
center or right.                

927
00:38:43,689 --> 00:38:45,822
Don't touch,                    
don't do anything with them,    

928
00:38:45,824 --> 00:38:46,856
just move them in               
the new bounds.                 

929
00:38:46,858 --> 00:38:49,359
Well, that's likely to cut off  
what you've drawn or something  

930
00:38:49,361 --> 00:38:52,128
like that depending on how      
much the bounds have changed.   

931
00:38:52,130 --> 00:38:53,863
Like when you rotate,           
you know,                       

932
00:38:53,865 --> 00:38:55,999
the bounds changes              
quite a bit.                    

933
00:38:56,001 --> 00:38:57,467
There's also the scaling ones.  

934
00:38:57,469 --> 00:38:59,536
And this is the default,        
scaleToFill.                    

935
00:38:59,538 --> 00:39:03,373
And that says, take my bits     
and take my new bounds and      

936
00:39:03,375 --> 00:39:04,274
scale it to fill.               

937
00:39:04,276 --> 00:39:06,776
I can preserve the aspect       
ratio if I want.                

938
00:39:06,778 --> 00:39:07,110
Although, again,                

939
00:39:07,112 --> 00:39:09,112
that's probably gonna           
cut something off.              

940
00:39:09,114 --> 00:39:12,248
But the real one that           
you want is redraw.             

941
00:39:12,250 --> 00:39:14,384
If you set your                 
contentMode to be .redraw,      

942
00:39:14,386 --> 00:39:17,120
then when your bounds change,   
your draw is gonna be           

943
00:39:17,122 --> 00:39:21,691
called--your drawRect,          
draw with the rect argument.    

944
00:39:21,693 --> 00:39:24,561
So in your assignment three,    
you're gonna wanna do this.     

945
00:39:24,563 --> 00:39:25,462
You can actually do this,       

946
00:39:25,464 --> 00:39:27,163
you can do it in code           
by setting that var.            

947
00:39:27,165 --> 00:39:29,332
But you can also do it in       
Interface Builder, okay?        

948
00:39:29,334 --> 00:39:31,468
In the Utilities window,        
in the Inspector preview.       

949
00:39:31,470 --> 00:39:34,671
Just, I think it's the very     
top one, contentMode.           

950
00:39:34,673 --> 00:39:38,942
All right, so I'm, I'm gonna    
be leaving the slides here so   

951
00:39:38,944 --> 00:39:41,144
I will tell you                 
what's coming up.               

952
00:39:41,146 --> 00:39:43,980
I'm gonna do this demo right    
now where I'm gonna do          

953
00:39:43,982 --> 00:39:46,983
a custom view, a FaceView,      
a UIView that draws a face.     

954
00:39:46,985 --> 00:39:49,919
And then Wednesday,             
I'm gonna talk about gestures.  

955
00:39:49,921 --> 00:39:51,988
We'll add some gestures         
to control our face.            

956
00:39:51,990 --> 00:39:54,657
And I'm gonna start talking     
about multiple MVCs,            

957
00:39:54,659 --> 00:39:57,560
I'll finish up with             
multiple MVCs next week.        

958
00:39:57,562 --> 00:40:00,730
Your assignment three requires  
you to do multiple MVCs, so     

959
00:40:00,732 --> 00:40:03,533
I'm not going to make it due    
until a week from next Monday,  

960
00:40:03,535 --> 00:40:05,568
because you'll need             
next Monday's lecture.          

961
00:40:05,570 --> 00:40:09,172
However, I'll probably ship     
the assignment, the write-up,   

962
00:40:09,174 --> 00:40:11,708
on Wednesday, because a big     
part of that assignment         

963
00:40:11,710 --> 00:40:14,244
is drawing your own custom      
view and you'll certainly know  

964
00:40:14,246 --> 00:40:17,046
everything you need to know     
to do that right off the bat.   

965
00:40:17,048 --> 00:40:18,782
So you can kind of get          
started on the view, and        

966
00:40:18,784 --> 00:40:21,217
then next Monday, you can       
start doing the multiple MVCs.  

967
00:40:21,219 --> 00:40:24,721
And you'll still have a full    
week until the next Monday,     

968
00:40:24,723 --> 00:40:26,489
to get that done, alright.      

969
00:40:26,491 --> 00:40:28,858
No Friday section this week.    

970
00:40:28,993 --> 00:40:32,662
Okay, so as with most           
demos in this course,           

971
00:40:32,664 --> 00:40:35,732
I'm going to start              
from scratch, okay.             

972
00:40:35,734 --> 00:40:37,434
We're going to do               
a completely new app.           

973
00:40:37,436 --> 00:40:38,802
No more calculator in here.     

974
00:40:38,804 --> 00:40:40,336
So I could click on here        
to open my calculator.          

975
00:40:40,338 --> 00:40:44,507
But instead, I'm gonna go back  
here to Create a new project.   

976
00:40:44,509 --> 00:40:46,776
Okay, it's gonna be             
Single View Application,        

977
00:40:46,778 --> 00:40:47,977
as I told you they              
all would be.                   

978
00:40:47,979 --> 00:40:50,680
I'm gonna call this             
one FaceIt, okay.               

979
00:40:50,682 --> 00:40:52,615
And it's gonna start out        
just drawing a face, but        

980
00:40:52,617 --> 00:40:54,117
it's gonna do much              
more eventually.                

981
00:40:54,119 --> 00:40:57,954
And, still no core data or      
testing stuff yet, so           

982
00:40:57,956 --> 00:40:59,923
I'm just gonna do FaceIt here.  

983
00:40:59,925 --> 00:41:01,057
It's gonna say where            
do you want it?                 

984
00:41:01,059 --> 00:41:03,893
I'm gonna put it in the same    
place the calculator is,        

985
00:41:03,895 --> 00:41:04,427
in my Developer.                

986
00:41:04,429 --> 00:41:05,795
I'm not gonna be using SCM.     

987
00:41:05,797 --> 00:41:05,929
But of course,                  

988
00:41:05,931 --> 00:41:08,498
those of you come who           
came to Friday section,         

989
00:41:08,500 --> 00:41:09,966
you'll know how to use that.    

990
00:41:09,968 --> 00:41:12,602
And here is my new app here.    

991
00:41:12,604 --> 00:41:14,504
And I'm also going to           
do my standard thing,           

992
00:41:14,506 --> 00:41:17,073
where I'm gonna take these      
supporting files and            

993
00:41:17,075 --> 00:41:17,807
move them out of our way.       

994
00:41:17,809 --> 00:41:21,911
So they don't distract          
us every time we look at        

995
00:41:21,913 --> 00:41:23,546
the Navigator here.             

996
00:41:23,548 --> 00:41:26,549
Because we don't need           
those for this demo.            

997
00:41:26,551 --> 00:41:31,287
So just like every other thing  
we've done, we have a view.     

998
00:41:31,289 --> 00:41:34,757
Here's our story                
board with our view.            

999
00:41:34,759 --> 00:41:36,493
Oops, not that small.           

1000
00:41:36,495 --> 00:41:38,795
And of course,                  
we have our controller.         

1001
00:41:38,797 --> 00:41:41,097
And I'm gonna delete this       
out of the controller,          

1002
00:41:41,099 --> 00:41:42,699
as usual here.                  

1003
00:41:42,701 --> 00:41:46,169
And this time, we're going      
to start right off here         

1004
00:41:46,171 --> 00:41:49,472
by building a custom UIView,    
custom UIView subclass.         

1005
00:41:49,474 --> 00:41:51,741
Now, the way we do that         
is the saw way we built         

1006
00:41:51,743 --> 00:41:52,509
the CalculatorBrain.            

1007
00:41:52,511 --> 00:41:53,810
We go here, new file, right.    

1008
00:41:53,812 --> 00:41:58,214
That's how we add new           
files to our project.           

1009
00:41:58,216 --> 00:41:58,515
But this time, for              

1010
00:41:58,517 --> 00:42:02,418
CalculatorBrain we chose Swift  
File because it, you know,      

1011
00:42:02,420 --> 00:42:03,286
it wasn't a UI thing.           

1012
00:42:03,288 --> 00:42:05,154
It didn't inherit               
from any iOS class.             

1013
00:42:05,156 --> 00:42:08,224
But now we're gonna choose      
Cocoa Touch Class, because      

1014
00:42:08,226 --> 00:42:11,961
it's gonna be a subclass of     
a Cocoa Touch UIKit class.      

1015
00:42:11,963 --> 00:42:12,362
So we click that.               

1016
00:42:12,364 --> 00:42:14,931
It says, what do you want       
it to be a subclass of?         

1017
00:42:14,933 --> 00:42:17,834
And we want UIView, but you     
can see there's other things.   

1018
00:42:17,836 --> 00:42:18,768
UIViewController, and           

1019
00:42:18,770 --> 00:42:20,503
other things that we'll         
learn later in the quarter.     

1020
00:42:20,505 --> 00:42:23,006
But this is                     
a subclass of UIView.           

1021
00:42:23,008 --> 00:42:24,707
I'm gonna call it FaceView,     

1022
00:42:24,709 --> 00:42:27,577
because it's a view             
that draws a face.              

1023
00:42:27,579 --> 00:42:29,279
Okay, it's a good name.         

1024
00:42:29,281 --> 00:42:30,880
Alright, so we click here.      

1025
00:42:30,882 --> 00:42:32,215
It says,                        
where do you wanna put it?      

1026
00:42:32,217 --> 00:42:34,951
We usually wanna be very        
careful to put it in the same   

1027
00:42:34,953 --> 00:42:36,085
place as everything else is.    

1028
00:42:36,087 --> 00:42:37,320
You don't want it in            
Supporting Files, and           

1029
00:42:37,322 --> 00:42:39,455
you don't want it at this top   
level, the project level.       

1030
00:42:39,457 --> 00:42:42,158
You want it inside              
this folder right here,         

1031
00:42:42,160 --> 00:42:44,060
that has all your stuff in it.  

1032
00:42:44,062 --> 00:42:45,662
So we'll do that.               

1033
00:42:45,664 --> 00:42:47,130
Alright, so                     
here's our FaceView.            

1034
00:42:47,132 --> 00:42:50,500
And you can see right off the   
bat in FaceView, we get this.   

1035
00:42:50,502 --> 00:42:54,170
Which is our draw, okay,        
the draw with the rect.         

1036
00:42:54,172 --> 00:42:56,773
Notice that it is               
commented out.                  

1037
00:42:56,775 --> 00:42:57,874
And that's because for          

1038
00:42:57,876 --> 00:43:02,245
performance reasons, iOS        
doesn't want to ask views that  

1039
00:43:02,247 --> 00:43:04,247
don't actually do any drawing,  
to draw.                        

1040
00:43:04,249 --> 00:43:05,715
Because it has to keep          
a backing store for             

1041
00:43:05,717 --> 00:43:08,918
them, and there's memory        
stores and all this stuff.      

1042
00:43:08,920 --> 00:43:10,920
So by default this              
comes commented out.            

1043
00:43:10,922 --> 00:43:13,323
But of course,                  
our FaceView is going to draw.  

1044
00:43:13,325 --> 00:43:14,591
It's going to draw a face.      

1045
00:43:14,593 --> 00:43:18,227
So we're going to               
un-comment it out.              

1046
00:43:18,495 --> 00:43:21,698
Okay, now we have               
a FaceView here,                

1047
00:43:21,700 --> 00:43:22,198
it doesn't draw anything.       

1048
00:43:22,200 --> 00:43:25,969
But I actually wanna briefly    
go back to our storyboard, and  

1049
00:43:25,971 --> 00:43:27,804
put a FaceView in               
the storyboard.                 

1050
00:43:27,806 --> 00:43:31,674
And it's really simple but      
I want to show it to you.       

1051
00:43:31,676 --> 00:43:31,975
if we go down to the Object     
Palette at the bottom here,     

1052
00:43:31,977 --> 00:43:34,344
And again,                      

1053
00:43:34,346 --> 00:43:35,511
where we got our buttons and    

1054
00:43:35,513 --> 00:43:37,814
labels, you know I could        
search here forever.            

1055
00:43:37,816 --> 00:43:39,282
There's no FaceView in here.    

1056
00:43:39,284 --> 00:43:42,685
But I can go down towards       
the bottom here, and            

1057
00:43:42,687 --> 00:43:43,286
you will see this one.          

1058
00:43:43,288 --> 00:43:45,922
It's actually almost at         
the very bottom, it's View.     

1059
00:43:45,924 --> 00:43:48,491
See, it represents a            
rectangular region which draws  

1060
00:43:48,493 --> 00:43:50,259
and receives events,            
as promised.                    

1061
00:43:50,261 --> 00:43:52,929
And so I can pick this          
guy up and drag him out.        

1062
00:43:52,931 --> 00:43:57,467
Okay, and drop him here         
inside this view controller.    

1063
00:43:57,469 --> 00:43:59,602
And remember that the top       
level view in this view         

1064
00:43:59,604 --> 00:44:02,071
controller is                   
a var called view.              

1065
00:44:02,073 --> 00:44:03,773
Okay, a very important var.     

1066
00:44:03,775 --> 00:44:06,943
Now, I want this view to        
fill the whole space.           

1067
00:44:06,945 --> 00:44:10,213
So I'm actually gonna use       
the blue dash lines to          

1068
00:44:10,215 --> 00:44:14,417
make this thing fit the entire  
space, you see that?            

1069
00:44:14,419 --> 00:44:17,887
Now, well, I also want to       
do the Ctrl-dragging to         

1070
00:44:17,889 --> 00:44:20,356
the edges that we did in        
calculator, remember that?      

1071
00:44:20,358 --> 00:44:23,359
But it's actually kind of hard  
to do this because I want it    

1072
00:44:23,361 --> 00:44:24,594
all the way to the edges.       

1073
00:44:24,596 --> 00:44:28,197
But since I used the blue       
lines, I can use a really cool  

1074
00:44:28,199 --> 00:44:30,066
feature which is down here,     
this button.                    

1075
00:44:30,068 --> 00:44:32,201
You see this button in          
the lower right here?           

1076
00:44:32,203 --> 00:44:34,103
It says                         
Resolve Auto Layout Issues.     

1077
00:44:34,105 --> 00:44:34,504
If you click that,              

1078
00:44:34,506 --> 00:44:38,675
one of the choices is to Reset  
to Suggested Constraints.       

1079
00:44:38,677 --> 00:44:42,745
So that is the system saying,   
I'll make your constraints for  

1080
00:44:42,747 --> 00:44:45,014
you based on what you           
did with the blue lines.        

1081
00:44:45,016 --> 00:44:46,516
So I'm gonna look               
at your blue lines.             

1082
00:44:46,518 --> 00:44:48,818
Since I used blue lines         
all at the edges,               

1083
00:44:48,820 --> 00:44:51,387
if I say Reset to               
Suggested Constraints,          

1084
00:44:51,389 --> 00:44:54,023
it's gonna hook those           
things to the edges.            

1085
00:44:54,025 --> 00:44:55,358
Because that's what             
it looked I wanted.             

1086
00:44:55,360 --> 00:44:59,595
Now I can double-check what it  
gave me by clicking here on     

1087
00:44:59,597 --> 00:45:00,763
the Size Inspector.             

1088
00:45:00,765 --> 00:45:01,831
And if you look down            
towards the bottom of           

1089
00:45:01,833 --> 00:45:04,233
the Size Inspector, you can     
see all your constraints.       

1090
00:45:04,235 --> 00:45:07,003
And look at that, perfect       
Trailing Space to Superview,    

1091
00:45:07,005 --> 00:45:07,904
leading space here.             

1092
00:45:07,906 --> 00:45:09,439
Excellent, all                  
exactly what I want.            

1093
00:45:09,441 --> 00:45:12,842
So here, I've gotten all my     
Auto-Layout with one click.     

1094
00:45:12,844 --> 00:45:15,645
And that's going to be          
possible to do quite a bit.     

1095
00:45:15,647 --> 00:45:16,946
If you use those                
blue lines and                  

1096
00:45:16,948 --> 00:45:19,115
you say Reset to                
Suggested Constraints,          

1097
00:45:19,117 --> 00:45:20,383
often it'll at                  
least get close.                

1098
00:45:20,385 --> 00:45:23,953
And then you can kinda tweak    
the ones it didn't get right.   

1099
00:45:23,955 --> 00:45:26,789
Now, the other crucial          
thing I have to do here         

1100
00:45:26,791 --> 00:45:29,625
is that this is                 
currently a UIView.             

1101
00:45:29,627 --> 00:45:32,395
If I go over here to            
this inspector here,            

1102
00:45:32,397 --> 00:45:36,332
which is the Identity           
Inspector, you can see that     

1103
00:45:36,334 --> 00:45:40,770
the class of the selected       
thing is UIView.                

1104
00:45:40,772 --> 00:45:42,739
So no matter what               
I put in my draw,               

1105
00:45:42,741 --> 00:45:43,372
it would never be called.       

1106
00:45:43,374 --> 00:45:46,242
Because this is not             
a FaceView, it's a UIView.      

1107
00:45:46,244 --> 00:45:51,013
But I can just click here, and  
go down and choose FaceView.    

1108
00:45:51,015 --> 00:45:54,317
And now I've made               
this a FaceView.                

1109
00:45:54,319 --> 00:45:54,650
all the code I put in my draw   
is going to draw in here.       

1110
00:45:54,652 --> 00:45:58,221
So now,                         

1111
00:45:58,223 --> 00:45:58,287
And that's it,                  

1112
00:45:58,289 --> 00:46:01,157
that's all I need to do to      
put a custom view into my UI.   

1113
00:46:01,159 --> 00:46:03,392
It's very common to want        
to put a custom view            

1114
00:46:03,394 --> 00:46:03,559
in, in the UI.                  

1115
00:46:03,561 --> 00:46:06,796
So that's why it's so           
simple to do.                   

1116
00:46:06,798 --> 00:46:10,800
Now all we need to do           
here is in our FaceView,        

1117
00:46:10,802 --> 00:46:13,736
write the code that             
draws--draws our face.          

1118
00:46:13,738 --> 00:46:15,271
So what are we gonna            
do to draw a face?              

1119
00:46:15,273 --> 00:46:19,142
Well, I'm just gonna draw the   
kind of emoji face, this round  

1120
00:46:19,144 --> 00:46:23,146
circle for a head, two          
round eyes, a little smile.     

1121
00:46:23,148 --> 00:46:24,413
Okay, a very simple face.       

1122
00:46:24,415 --> 00:46:27,884
And, let's start by drawing     
the skull of our face, the,     

1123
00:46:27,886 --> 00:46:30,253
kind of the head of this face.  

1124
00:46:30,554 --> 00:46:32,455
And I just start doing          
that in draw here.              

1125
00:46:32,457 --> 00:46:35,691
I'm going to use                
UIBezierPath to do all this.    

1126
00:46:35,693 --> 00:46:38,361
So I don't actually even        
need to get the context.        

1127
00:46:38,363 --> 00:46:40,997
That UI get graphics, get       
context, don't even do that.    

1128
00:46:40,999 --> 00:46:42,799
Just use UIBezierPath           
automatically                   

1129
00:46:42,801 --> 00:46:43,966
knows what context you're in.   

1130
00:46:43,968 --> 00:46:46,102
So you don't have               
to do any of that.              

1131
00:46:46,104 --> 00:46:47,603
So what do I need               
to do though?                   

1132
00:46:47,605 --> 00:46:50,673
I need to kind of think         
of how big my face is.          

1133
00:46:50,675 --> 00:46:53,342
I want my face, if I'm in       
portrait or landscape, I also   

1134
00:46:53,344 --> 00:46:57,013
want my face to kind of be      
the smaller of the two sides,   

1135
00:46:57,015 --> 00:46:57,914
the height or the width.        

1136
00:46:57,916 --> 00:46:58,114
You know what I mean?           

1137
00:46:58,116 --> 00:47:01,350
Because I always want the face  
to fully fit in there.          

1138
00:47:01,352 --> 00:47:05,421
So I'm going to let my          
skullRadius, so that's gonna    

1139
00:47:05,423 --> 00:47:09,926
be the radius of my skull,      
okay, equal the minimum.        

1140
00:47:09,928 --> 00:47:11,027
And there's this nice min,      

1141
00:47:11,029 --> 00:47:13,329
you see that min                
function right there?           

1142
00:47:13,331 --> 00:47:16,132
It's generic-typed              
like an array.                  

1143
00:47:16,134 --> 00:47:17,633
Array of T, so that's the T.    

1144
00:47:17,635 --> 00:47:18,501
It will take any type.          

1145
00:47:18,503 --> 00:47:20,036
And it will compare             
two things, and                 

1146
00:47:20,038 --> 00:47:21,571
return the one                  
that's the lowest.              

1147
00:47:21,573 --> 00:47:24,807
So I'm going to get             
the minimum of my bound,        

1148
00:47:24,809 --> 00:47:29,178
bounds.size.width and           
my bounds.size.height.          

1149
00:47:29,180 --> 00:47:32,381
And then I'm going to divide    
it by 2, because it's radius,   

1150
00:47:32,383 --> 00:47:33,115
not diameter.                   

1151
00:47:33,117 --> 00:47:34,417
So now,                         
see what I'm doing here?        

1152
00:47:34,419 --> 00:47:38,154
I'm just making it so that my   
radius of my skull will be      

1153
00:47:38,156 --> 00:47:40,323
smaller of the width or         
height.                         

1154
00:47:40,325 --> 00:47:42,425
And then, what about where      
I want the skull to be?         

1155
00:47:42,427 --> 00:47:43,826
Well, I want it to be           
right in the center.            

1156
00:47:43,828 --> 00:47:50,800
So can I say, let               
skullCenter equal my center?    

1157
00:47:50,802 --> 00:47:52,802
Okay, that's a method,          
can I say that?                 

1158
00:47:52,804 --> 00:47:54,637
That's a var,                   
anything wrong with that?       

1159
00:47:54,639 --> 00:47:58,241
No, I see shaking heads--why    
not, what's wrong with that?    

1160
00:48:00,143 --> 00:48:01,077
Yeah?                           

1161
00:48:03,113 --> 00:48:07,116
He says because it'll           
start from the top left.        

1162
00:48:07,118 --> 00:48:07,717
Not quite.                      

1163
00:48:07,719 --> 00:48:10,419
Anyone else wanna take          
a stab at this one?             

1164
00:48:11,188 --> 00:48:15,691
It's because center, while it   
is the center of this view,     

1165
00:48:15,693 --> 00:48:17,894
it's in the wrong               
coordinate system.              

1166
00:48:17,896 --> 00:48:20,863
This center is in my            
superview's coordinate system   

1167
00:48:20,865 --> 00:48:21,597
and I'm in draw.                

1168
00:48:21,599 --> 00:48:23,065
I need to be in my              
coordinate system.              

1169
00:48:23,067 --> 00:48:25,167
So there's actually two         
things I can do here.           

1170
00:48:25,169 --> 00:48:27,970
One I could use this cool       
function in view called         

1171
00:48:27,972 --> 00:48:30,740
convert which will              
convert a point                 

1172
00:48:30,742 --> 00:48:32,675
from one coordinate             
system to another.              

1173
00:48:32,677 --> 00:48:36,345
So I can go down                
to this one okay,               

1174
00:48:36,347 --> 00:48:38,347
convert CGPoint from view, and  

1175
00:48:38,349 --> 00:48:44,353
I could convert this point      
center from my superview.       

1176
00:48:45,222 --> 00:48:47,256
Okay, so just using             
center I can convert it.        

1177
00:48:47,258 --> 00:48:50,559
That would be fine, because     
I've converted it from one      

1178
00:48:50,561 --> 00:48:53,462
coordinate system,              
my superviews, to mine.         

1179
00:48:54,331 --> 00:48:55,464
That's probably a little,       

1180
00:48:55,466 --> 00:48:57,066
someone reading                 
this code is like,              

1181
00:48:57,068 --> 00:48:58,034
hm, why are they doing that?    

1182
00:48:58,036 --> 00:49:02,338
A simpler way to do it is       
probably just to create         

1183
00:49:02,340 --> 00:49:07,777
a point, a CGPoint, that is     
my bounds midX, that's my       

1184
00:49:07,779 --> 00:49:14,550
middle X, see, that's a rect    
thing, and my bounds midY.      

1185
00:49:14,552 --> 00:49:16,352
Okay.                           

1186
00:49:16,354 --> 00:49:16,385
So I'm just creating            
the point that is the center,   

1187
00:49:16,387 --> 00:49:19,021
That makes sense?               

1188
00:49:19,023 --> 00:49:21,424
much more                       
straightforwardly there.        

1189
00:49:21,426 --> 00:49:24,193
All right, so now I have        
my radius and the center.       

1190
00:49:24,195 --> 00:49:25,861
Now I need to draw a circle.    

1191
00:49:25,863 --> 00:49:26,762
So how do I draw a circle?      

1192
00:49:26,764 --> 00:49:28,798
I'm gonna do that               
with UIBezierPath.              

1193
00:49:28,800 --> 00:49:32,068
So I'm gonna say let path       
equal a UIBezierPath.           

1194
00:49:32,070 --> 00:49:33,669
Now, when we look at            
the constructors for            

1195
00:49:33,671 --> 00:49:37,873
UIBezierPath here you can       
see that we can draw an arc.    

1196
00:49:37,875 --> 00:49:39,375
Which is actually what          
I'm going to use.               

1197
00:49:39,377 --> 00:49:41,777
We could draw an oval,          
which would be cool,            

1198
00:49:41,779 --> 00:49:43,512
except the argument is a rect,  
and                             

1199
00:49:43,514 --> 00:49:44,613
I have the center and           
the radius.                     

1200
00:49:44,615 --> 00:49:47,350
So I can't, I don't             
really want to use oval.        

1201
00:49:47,352 --> 00:49:48,150
We could draw a rectangle.      

1202
00:49:48,152 --> 00:49:50,686
I want a circle,                
so that's no good.              

1203
00:49:50,688 --> 00:49:51,454
Or a rounded rect.              

1204
00:49:51,456 --> 00:49:52,521
I actually want the circle,     

1205
00:49:52,523 --> 00:49:53,889
not a rectangle of any kind,    
okay?                           

1206
00:49:53,891 --> 00:49:56,359
So I'm gonna use this one       
right here which draws an arc.  

1207
00:49:56,361 --> 00:50:00,229
It just takes a center point    
and it draws a sweeping arc.    

1208
00:50:00,231 --> 00:50:03,366
And I'm gonna draw this         
arc all the way around          

1209
00:50:03,368 --> 00:50:05,534
to make a circle, okay?         

1210
00:50:05,536 --> 00:50:05,968
So how does that work?          

1211
00:50:05,970 --> 00:50:07,903
Here, I'm gonna make            
some more space.                

1212
00:50:07,905 --> 00:50:10,940
All right, so it wants to       
know the center of the arc.     

1213
00:50:10,942 --> 00:50:13,275
Well, that's my skull center,   
right?                          

1214
00:50:13,277 --> 00:50:15,678
It wants to know the radius     
of the arc, well,               

1215
00:50:15,680 --> 00:50:18,280
that's my skullRadius,          
this easy.                      

1216
00:50:18,282 --> 00:50:19,648
It wants to know                
the start angle.                

1217
00:50:19,650 --> 00:50:23,519
So that's the angle that        
it's gonna start sweeping.      

1218
00:50:23,521 --> 00:50:23,953
I'm gonna choose 0,             

1219
00:50:23,955 --> 00:50:30,526
the angle 0 is straight         
out to your right.              

1220
00:50:30,660 --> 00:50:31,927
Okay, so if you're              
looking at the screen,          

1221
00:50:31,929 --> 00:50:35,297
to the right straight across,   
that's 0.                       

1222
00:50:35,299 --> 00:50:35,898
And it's in radians,            

1223
00:50:35,900 --> 00:50:39,735
how many people know what       
radians are to measure angle?   

1224
00:50:39,737 --> 00:50:40,569
Okay most of you.               

1225
00:50:40,571 --> 00:50:42,104
So radians instead of degrees,  

1226
00:50:42,106 --> 00:50:44,807
we measure how much we're       
going up by radians.            

1227
00:50:44,809 --> 00:50:48,744
Radians go from zero all        
the way around to two pi.       

1228
00:50:48,746 --> 00:50:49,245
Around the circle.              

1229
00:50:49,247 --> 00:50:53,015
Start at zero and then it       
will go around, pi over two,    

1230
00:50:53,017 --> 00:50:55,985
pi, you know,                   
then pi is 180 degrees and      

1231
00:50:55,987 --> 00:50:58,287
then around to two              
pi is 360 degrees.              

1232
00:50:58,289 --> 00:51:01,357
So it's in radians, so this     
end angle has to be in radians  

1233
00:51:01,359 --> 00:51:03,059
and I wanna go all              
the way around.                 

1234
00:51:03,061 --> 00:51:05,061
So it's 2 times pi.             

1235
00:51:05,063 --> 00:51:06,896
We know that Double.pi is pi.   

1236
00:51:06,898 --> 00:51:10,099
And then clockwise is whether   
I'm gonna draw the arc around   

1237
00:51:10,101 --> 00:51:11,067
clockwise or the other way.     

1238
00:51:11,069 --> 00:51:13,636
It doesn't matter because I'm   
going all the way around to     

1239
00:51:13,638 --> 00:51:15,571
get back to the start anyway.   

1240
00:51:15,573 --> 00:51:16,906
So I'll just say false.         

1241
00:51:16,908 --> 00:51:18,974
There you go,                   
counter-clockwise.              

1242
00:51:18,976 --> 00:51:21,477
Now, I got a warning here,      
an error.                       

1243
00:51:21,479 --> 00:51:21,644
Let's look at that error.       

1244
00:51:21,646 --> 00:51:24,980
What does it say, it says       
the binary operator* (and is    

1245
00:51:24,982 --> 00:51:28,651
pointing to this little         
multiplier right here) cannot   

1246
00:51:28,653 --> 00:51:31,554
be applied to 'Int' and         
'Double'.                       

1247
00:51:31,556 --> 00:51:33,489
Why is it saying that?          

1248
00:51:34,091 --> 00:51:35,658
These arguments                 
to UIBezierPath,                

1249
00:51:35,660 --> 00:51:38,294
the floating point arguments    
like a startAngle and           

1250
00:51:38,296 --> 00:51:42,531
endAngle, what type do you      
think it's supposed to be?      

1251
00:51:45,435 --> 00:51:46,869
No one?                         

1252
00:51:46,871 --> 00:51:49,772
I hear it being whispered,      
yes, CGFloat.                   

1253
00:51:49,774 --> 00:51:51,674
All drawing has to be CGFloat.  

1254
00:51:51,676 --> 00:51:55,511
So is Double.pi,                
is that a CG float?             

1255
00:51:55,513 --> 00:51:56,545
No, it's a double.              

1256
00:51:56,547 --> 00:51:58,714
Is two a CGFloat?               

1257
00:51:58,716 --> 00:51:59,281
Well it might be.               

1258
00:51:59,283 --> 00:52:01,717
But Swift would have to         
infer that it's a CGFloat.      

1259
00:52:01,719 --> 00:52:04,120
And right now Swift is          
confused about what that's      

1260
00:52:04,122 --> 00:52:06,422
supposed to be because it       
knows this argument is          

1261
00:52:06,424 --> 00:52:07,690
supposed to be a CGFloat, but   

1262
00:52:07,692 --> 00:52:09,458
the thing you're multiplying    
it by is a Double.              

1263
00:52:09,460 --> 00:52:11,494
So Swift doesn't know           
what to infer here.             

1264
00:52:11,496 --> 00:52:14,897
Doesn't know whether to         
refer that to as a Double or    

1265
00:52:14,899 --> 00:52:15,264
a CGFloat.                      

1266
00:52:15,266 --> 00:52:20,302
So the fix here, luckily,       
CGFloat has a pi.               

1267
00:52:21,471 --> 00:52:22,338
Just like double does.          

1268
00:52:22,340 --> 00:52:25,441
Now, everybody's happy,         
because Swift knows how to      

1269
00:52:25,443 --> 00:52:28,644
interpret this                  
literal as a CGFloat.           

1270
00:52:28,646 --> 00:52:31,614
And this argument to            
the endAngle is now a CGFloat.  

1271
00:52:31,616 --> 00:52:32,047
So now everybody's happy.       

1272
00:52:32,049 --> 00:52:35,851
It's only complained that       
we don't use path yet.          

1273
00:52:35,853 --> 00:52:36,418
Okay?                           

1274
00:52:36,420 --> 00:52:38,287
Excellent, so now we got        
this arc going all around.      

1275
00:52:38,289 --> 00:52:41,557
Let's set something about the   
path like it's line width for   

1276
00:52:41,559 --> 00:52:44,226
example, we'll set a nice,      
fairly thick line,              

1277
00:52:44,228 --> 00:52:47,496
five points wide,               
that's what that means,         

1278
00:52:47,498 --> 00:52:49,732
five point zero,                
five points wide.               

1279
00:52:49,734 --> 00:52:51,200
And then let's set the color.   

1280
00:52:51,202 --> 00:52:54,904
So I'm gonna get UIColor,       
let's say, blue color and       

1281
00:52:54,906 --> 00:53:00,176
we'll say set, and by the way   
there's setFill and setStroke.  

1282
00:53:00,178 --> 00:53:01,210
There's also just set.          

1283
00:53:01,212 --> 00:53:03,312
Set sets both the fill and      
the stroke.                     

1284
00:53:03,314 --> 00:53:05,381
Here we only need to set        
the stroke color, but           

1285
00:53:05,383 --> 00:53:08,384
I'll just say set so            
that you learn about that one.  

1286
00:53:08,386 --> 00:53:12,721
And now I can just say          
path stroke okay and            

1287
00:53:12,723 --> 00:53:15,090
it's going to                   
stroke that path.               

1288
00:53:15,092 --> 00:53:16,392
So let's see what               
this looks like.                

1289
00:53:16,394 --> 00:53:19,495
Let's go do iPhone 7 here.      

1290
00:53:20,864 --> 00:53:24,600
So hopefully this is            
gonna draw our skull.           

1291
00:53:35,345 --> 00:53:36,478
There we go, a skull.           

1292
00:53:36,480 --> 00:53:37,646
Whoo, first time, excellent.    

1293
00:53:37,648 --> 00:53:41,016
Okay, now I don't like          
the look of that very           

1294
00:53:41,018 --> 00:53:43,252
much because it goes all        
the way to the edges and        

1295
00:53:43,254 --> 00:53:45,354
with a thick line that's        
actually cut off a little bit.  

1296
00:53:45,356 --> 00:53:48,023
So I want to move that in       
a little bit so we'll do that.  

1297
00:53:48,025 --> 00:53:51,794
Let's rotate and                
go from portrait to landscape.  

1298
00:53:54,130 --> 00:53:56,365
Not good, not good.             

1299
00:53:56,367 --> 00:53:58,167
Okay, why is that happening?    

1300
00:53:58,169 --> 00:53:58,601
That it's doing that.           

1301
00:53:58,603 --> 00:53:59,501
Well, that's that content       

1302
00:53:59,503 --> 00:54:00,803
mode thing I was                
talking about, right?           

1303
00:54:00,805 --> 00:54:05,307
It's not calling my draw        
when it goes to this other      

1304
00:54:06,509 --> 00:54:10,279
bound size right there, so      
it's just scaling the bits.     

1305
00:54:10,281 --> 00:54:11,313
So let's fix both               
of those things,                

1306
00:54:11,315 --> 00:54:14,717
let's make it go in a little    
bit, and let's fix those bits.  

1307
00:54:14,719 --> 00:54:17,853
To fix the bits, we're          
just gonna go back to our       

1308
00:54:17,855 --> 00:54:21,457
storyboard, and                 
click on our view right here.   

1309
00:54:21,459 --> 00:54:22,358
Lets get rid of this.           

1310
00:54:22,360 --> 00:54:26,895
Okay, click on our View,        
and go over to Utilities.       

1311
00:54:26,897 --> 00:54:29,765
Inspect this with the           
Attributes Inspector and look,  

1312
00:54:29,767 --> 00:54:33,402
the very first one,             
Content Mode, Scales to Fill.   

1313
00:54:33,404 --> 00:54:37,072
Every time the bounds change    
it's scales to bits to fill     

1314
00:54:37,074 --> 00:54:39,475
and we want Redraw.             

1315
00:54:39,477 --> 00:54:41,543
We could also probably          
use Center, but                 

1316
00:54:41,545 --> 00:54:44,346
I actually want Redraw because  
if my bounds got smaller for    

1317
00:54:44,348 --> 00:54:46,348
example, I'd wanna              
draw my face smaller.           

1318
00:54:46,350 --> 00:54:49,351
I wouldn't want                 
to get cut off.                 

1319
00:54:49,353 --> 00:54:50,085
Okay, so there's Redraw.        

1320
00:54:50,087 --> 00:54:52,621
That fixed that one,            
that was easy to fix.           

1321
00:54:52,623 --> 00:54:55,524
What about making this          
thing kinda smaller?            

1322
00:54:55,526 --> 00:55:01,630
To do that, I'm actually gonna  
create a var called scale.      

1323
00:55:01,632 --> 00:55:05,267
And it's a drawing thing so     
it's a CGFloat.                 

1324
00:55:05,269 --> 00:55:09,238
And I'm going to set it         
to let's say 0.9 and            

1325
00:55:09,240 --> 00:55:10,439
that's going to mean 90%.       

1326
00:55:10,441 --> 00:55:12,941
All I'm going to do             
is take my radius and           

1327
00:55:12,943 --> 00:55:14,877
multiply it by that scale.      

1328
00:55:14,879 --> 00:55:16,679
So by multiplying               
my radius by 0.9 or             

1329
00:55:16,681 --> 00:55:20,616
90% it should zoom move         
it in a little bit right.       

1330
00:55:20,618 --> 00:55:22,584
Kind of in from                 
the edges by 90%.               

1331
00:55:22,586 --> 00:55:29,358
So let's see if both            
those things got fixed.         

1332
00:55:33,296 --> 00:55:33,862
So the 90% worked.              

1333
00:55:33,864 --> 00:55:39,401
Clearly, it's in 90% and        
the rotation works also.        

1334
00:55:39,403 --> 00:55:41,337
So we're off to                 
a good start here,              

1335
00:55:41,339 --> 00:55:42,338
things seem to be               
working just fine.              

1336
00:55:42,340 --> 00:55:45,307
Alright, so, what's             
the next thing we wanna do?     

1337
00:55:45,309 --> 00:55:46,809
Well, we wanna draw eyes and    

1338
00:55:46,811 --> 00:55:49,578
a mouth and things like that,   
I wanna start thinking          

1339
00:55:49,580 --> 00:55:51,547
a little bit about my           
internal architecture.          

1340
00:55:51,549 --> 00:55:54,950
And I'm kinda liking the idea   
of having some private funcs,   

1341
00:55:54,952 --> 00:55:58,454
like give me the path for       
the skull.                      

1342
00:55:59,255 --> 00:56:04,026
And have that return            
a UIBezierPath that             

1343
00:56:04,028 --> 00:56:05,361
I can then stroke.              

1344
00:56:05,363 --> 00:56:07,463
And then I'll have the same     
thing, give me the path for     

1345
00:56:07,465 --> 00:56:08,697
the eye, give me a path for     

1346
00:56:08,699 --> 00:56:09,865
the mouth,                      
you see what I mean?            

1347
00:56:09,867 --> 00:56:10,499
I'll get all these.             

1348
00:56:10,501 --> 00:56:13,502
And so I can just take          
this code down here             

1349
00:56:13,504 --> 00:56:15,304
that creates this path for      
the skull and                   

1350
00:56:15,306 --> 00:56:18,807
I'll just put it up here and    
I'll just return this path.     

1351
00:56:18,809 --> 00:56:23,612
And then, down here, instead    
of saying paths.stroke,         

1352
00:56:23,614 --> 00:56:27,416
I'll say                        
pathForSkull().stroke().        

1353
00:56:27,418 --> 00:56:28,817
Do you see that?                

1354
00:56:28,819 --> 00:56:30,853
Now, another thing is           
the skullRadius and             

1355
00:56:30,855 --> 00:56:33,822
the skullCenter, I want all     
the other things like the eyes  

1356
00:56:33,824 --> 00:56:36,792
and the mouth to all            
be relative to that.            

1357
00:56:36,794 --> 00:56:39,395
So if I make my skull small I   
need the eyes to get smaller,   

1358
00:56:39,397 --> 00:56:41,930
the mouth to get smaller,       
everything to move in.          

1359
00:56:41,932 --> 00:56:42,965
So I'm gonna use                
these two guys,                 

1360
00:56:42,967 --> 00:56:45,634
I'm gonna make them instead of  
being local variables in draw,  

1361
00:56:45,636 --> 00:56:50,506
I'm gonna move them out and     
make them be private vars.      

1362
00:56:50,508 --> 00:56:54,343
And in specific they're gonna   
be private computed vars.       

1363
00:56:54,345 --> 00:56:57,212
So I'm just gonna take          
what they were before and       

1364
00:56:57,214 --> 00:57:00,549
I'm just gonna return them so   
that no matter what my          

1365
00:57:00,551 --> 00:57:03,152
bounds is, at any given time,   
skullRadius,                    

1366
00:57:03,154 --> 00:57:06,822
that var--which of course we    
have to type, so CGFloat--that  

1367
00:57:06,824 --> 00:57:10,659
skullRadius is always going     
to match by bounds, okay?       

1368
00:57:10,661 --> 00:57:11,693
Because every time I ask for    
it,                             

1369
00:57:11,695 --> 00:57:14,596
I'm gonna recompute it          
using this little function.     

1370
00:57:14,598 --> 00:57:15,731
And same thing                  
with skullCenter,               

1371
00:57:15,733 --> 00:57:17,966
I'm gonna say private           
var skullCenter,                

1372
00:57:17,968 --> 00:57:22,404
which is also a CGFloat,        
no this one is a CG point, and  

1373
00:57:22,406 --> 00:57:24,807
it's going to be computed.      

1374
00:57:26,643 --> 00:57:27,743
Now, one thing                  
you noticed here,               

1375
00:57:27,745 --> 00:57:30,879
I don't remember if I covered   
this in the other lecture but   

1376
00:57:30,881 --> 00:57:33,749
you notice,                     
I'm not saying get here.        

1377
00:57:33,751 --> 00:57:35,751
See, I'm not putting get and    
set.                            

1378
00:57:35,753 --> 00:57:39,054
Well, I'm not putting set       
because you can't set           

1379
00:57:39,056 --> 00:57:39,888
the skull center.               

1380
00:57:39,890 --> 00:57:42,991
Skull center is always          
the center of my bounds so      

1381
00:57:42,993 --> 00:57:43,759
I can't set it.                 

1382
00:57:43,761 --> 00:57:45,828
And then if you                 
have only a get,                

1383
00:57:45,830 --> 00:57:47,663
turns out you don't             
need the get.                   

1384
00:57:47,665 --> 00:57:49,164
Because it's kinda redundant.   

1385
00:57:49,166 --> 00:57:53,502
So you get this kinda           
nicer looking code here.        

1386
00:57:53,504 --> 00:57:54,603
So now we have skullRadius and  

1387
00:57:54,605 --> 00:57:56,905
skullCenter available           
to all of our methods.          

1388
00:57:56,907 --> 00:58:00,008
And so all our other paths,     
like path for eye and           

1389
00:58:00,010 --> 00:58:01,743
all that stuff can use them.    

1390
00:58:01,745 --> 00:58:02,411
So let's get started on those.  

1391
00:58:02,413 --> 00:58:04,880
Let's do path for               
eye, how about that.            

1392
00:58:04,882 --> 00:58:06,915
So in a private func,           
pathForEye.                     

1393
00:58:06,917 --> 00:58:09,685
Now actually,                   
probably the path for the eye   

1394
00:58:09,687 --> 00:58:12,120
is almost the same for the      
left eye and the right eye.     

1395
00:58:12,122 --> 00:58:17,125
So I'm gonna create a little    
type here called Eye which      

1396
00:58:17,293 --> 00:58:19,428
is just gonna be                
a little enum.                  

1397
00:58:20,530 --> 00:58:26,101
And it's gonna just be          
the left and right eye, so      

1398
00:58:26,103 --> 00:58:27,536
private enum Eye.               

1399
00:58:27,538 --> 00:58:34,843
Let's see Eye is case           
left case right, okay.          

1400
00:58:34,845 --> 00:58:37,679
So I mean it's perfectly        
fine to use an enum             

1401
00:58:37,681 --> 00:58:39,548
just to represent               
something simple like this.     

1402
00:58:39,550 --> 00:58:42,951
You don't have to always        
be doing methods and            

1403
00:58:42,953 --> 00:58:43,452
associated values.              

1404
00:58:43,454 --> 00:58:44,553
We don't have any               
associated values here.         

1405
00:58:44,555 --> 00:58:47,956
We're just representing it as   
a way to specify in this API,   

1406
00:58:47,958 --> 00:58:53,161
which eye we want the path,     
the UIBezierPath, for.          

1407
00:58:53,163 --> 00:58:56,565
So, by the way, also I          
wanna have some constants       

1408
00:58:56,567 --> 00:59:00,068
that tell me where the eye is   
relative to the center and      

1409
00:59:00,070 --> 00:59:02,871
where the mouth is and          
how big the eyes are.           

1410
00:59:02,873 --> 00:59:06,074
So to save a little bit of      
time here, I'm going to just    

1411
00:59:06,076 --> 00:59:11,213
type those in at the bottom     
here real quick.                

1412
00:59:11,215 --> 00:59:12,881
Look how fast I typed them in.  

1413
00:59:12,883 --> 00:59:14,716
This is, by the way, how we do  

1414
00:59:15,018 --> 00:59:19,054
constants in swift we just      
create a struct and we make     

1415
00:59:19,056 --> 00:59:23,959
static lets on it which         
are all of our constants and    

1416
00:59:23,961 --> 00:59:27,863
what's really cool about this,  
one it groups them together.    

1417
00:59:27,865 --> 00:59:28,463
Like here I have Ratios,        

1418
00:59:28,465 --> 00:59:32,467
it's all the ratios between     
the skull radius and all these  

1419
00:59:32,469 --> 00:59:36,271
things I want to do like        
the eye offset and the mouth.   

1420
00:59:36,639 --> 00:59:37,639
Also it types them.             

1421
00:59:37,641 --> 00:59:39,441
You see these                   
are typed constants.            

1422
00:59:39,443 --> 00:59:41,944
I can put the type in there,    
because they're just vars,      

1423
00:59:41,946 --> 00:59:44,780
they're static vars             
on this struct.                 

1424
00:59:44,782 --> 00:59:46,481
Okay.                           
We don't have any storage       

1425
00:59:46,483 --> 00:59:46,848
in this struct.                 

1426
00:59:46,850 --> 00:59:47,549
Doesn't have any methods.       

1427
00:59:47,551 --> 00:59:49,251
It just is only used for        
constants here.                 

1428
00:59:49,253 --> 00:59:53,689
Now, I'm gonna use these        
constants down here, and        

1429
00:59:53,691 --> 00:59:55,090
I'm gonna use                   
the skull radius and            

1430
00:59:55,092 --> 00:59:58,727
center up here to calculate     
the path for the eye.           

1431
00:59:58,729 --> 00:59:59,461
So how am I gonna do that?      

1432
00:59:59,463 --> 01:00:02,297
First I need                    
the center of the eye.          

1433
01:00:02,299 --> 01:00:05,334
Now, I'm gonna create           
a function to calculate         

1434
01:00:05,336 --> 01:00:06,068
the center of the eye.          

1435
01:00:06,070 --> 01:00:08,270
But I only need it for          
pathForEye.                     

1436
01:00:08,272 --> 01:00:12,007
So I'm actually gonna put       
it inside pathForEye.           

1437
01:00:12,009 --> 01:00:15,143
So I'm gonna create             
a function here, centerOfEye.   

1438
01:00:15,145 --> 01:00:18,113
Just gonna type it in quick     
here to save some time.         

1439
01:00:18,115 --> 01:00:18,914
I'll go through it though.      

1440
01:00:18,916 --> 01:00:21,817
And centerOfEye, look how       
it's inside pathForEye.         

1441
01:00:21,819 --> 01:00:25,087
And that's perfectly legal,     
some of you are probably using  

1442
01:00:25,089 --> 01:00:26,688
that strategy in                
your assignment two.            

1443
01:00:26,690 --> 01:00:29,091
I think I mentioned it in       
a hint, that you can do it.     

1444
01:00:29,093 --> 01:00:32,260
And all it does is, it keeps    
centerOfEye inside here,        

1445
01:00:32,262 --> 01:00:33,528
because it's not                
needed anywhere else.           

1446
01:00:33,530 --> 01:00:35,664
So now, readers of my code      
don't have to worry about this  

1447
01:00:35,666 --> 01:00:36,965
thing being called              
somewhere else, and             

1448
01:00:36,967 --> 01:00:38,133
what it's semantics             
might be out there.             

1449
01:00:38,135 --> 01:00:40,535
They already know that it's     
only used in this nice,         

1450
01:00:40,537 --> 01:00:43,105
little space right here, so     
it's kind of a nice way to      

1451
01:00:43,107 --> 01:00:46,842
arrange your code to make       
it a little more readable.      

1452
01:00:47,477 --> 01:00:48,877
So how does centerOfEye work?   

1453
01:00:48,879 --> 01:00:50,045
Well it takes the eye, and      

1454
01:00:50,047 --> 01:00:53,882
it just gets the eye offset by  
taking the skull radius and     

1455
01:00:53,884 --> 01:00:55,417
dividing it by one              
of those constants,             

1456
01:00:55,419 --> 01:00:58,320
the ratio between the skull     
radius to the eye offset,       

1457
01:00:58,322 --> 01:01:00,155
that's how much it's            
gonna offset the eye.           

1458
01:01:00,157 --> 01:01:03,558
Now I'm gonna offset the eye    
the same amount up as I do      

1459
01:01:03,560 --> 01:01:04,726
to the sides.                   

1460
01:01:04,861 --> 01:01:08,063
So the line between             
the nose of our face, and       

1461
01:01:08,065 --> 01:01:10,732
the two eyes is gonna be        
equilateral triangles, or no,   

1462
01:01:10,734 --> 01:01:12,434
not quite equilaterals.         

1463
01:01:12,436 --> 01:01:12,668
It can be a little wider, but   

1464
01:01:12,670 --> 01:01:17,873
the same distance going up as   
it is going out to the sides.   

1465
01:01:17,875 --> 01:01:18,040
I'm gonna start with the        
eyeCenter being in the center.  

1466
01:01:18,042 --> 01:01:21,109
And then,                       

1467
01:01:21,111 --> 01:01:23,278
I'm starting with the eye in    
the center of the face, and     

1468
01:01:23,280 --> 01:01:25,280
then I'm gonna move it up and   
over.                           

1469
01:01:25,282 --> 01:01:26,581
Okay.                           
So here I'm moving it up.       

1470
01:01:26,583 --> 01:01:29,251
Notice that up is               
minus the eye offset,           

1471
01:01:29,253 --> 01:01:33,188
because decreasing y is up,     
increasing y is down.           

1472
01:01:33,190 --> 01:01:38,193
And for x, I'm going to         
add the eye offset or           

1473
01:01:38,195 --> 01:01:39,928
subtract the eye offset,        

1474
01:01:39,930 --> 01:01:41,930
depending on whether it's       
the left eye or the right eye.  

1475
01:01:41,932 --> 01:01:45,067
So for the left eye, I'm going  
to subtract the eye offset.     

1476
01:01:45,069 --> 01:01:48,437
And for the right eye, I'm      
going to add the eye offset.    

1477
01:01:49,138 --> 01:01:49,571
Okay?                           

1478
01:01:49,573 --> 01:01:51,073
Everyone understand             
that little                     

1479
01:01:51,075 --> 01:01:52,974
construct right there, I hope.  

1480
01:01:53,142 --> 01:01:54,476
Okay and then it's              
returning the center.           

1481
01:01:54,478 --> 01:01:56,244
So now I have                   
the center of the eye.          

1482
01:01:56,246 --> 01:01:57,779
So using the center             
of the eye,                     

1483
01:01:57,781 --> 01:02:02,084
I can say let the eye radius    
equal the skull radius          

1484
01:02:04,420 --> 01:02:09,224
divided by the ratio for        
that one,                       

1485
01:02:09,226 --> 01:02:15,530
which is                        
skullRadiusToEyeRadius.         

1486
01:02:15,532 --> 01:02:17,899
Okay, so                        
that's what I'm gonna do.       

1487
01:02:17,901 --> 01:02:20,669
And I'm gonna let               
the eyeCenter just              

1488
01:02:20,671 --> 01:02:22,537
equal centerOfEye,              
whichever eye.                  

1489
01:02:22,539 --> 01:02:24,172
The eye that's up here.         

1490
01:02:24,174 --> 01:02:28,510
So I'm just calling this        
little function right here.     

1491
01:02:30,146 --> 01:02:32,814
And so                          
I have those two things.        

1492
01:02:32,816 --> 01:02:34,549
So I can just create            
another circle.                 

1493
01:02:34,551 --> 01:02:38,587
So I'm going to let path        
equal UIBezierPath and          

1494
01:02:38,589 --> 01:02:39,721
do that arc again.              

1495
01:02:39,723 --> 01:02:41,356
Here the center is              
the eye center.                 

1496
01:02:41,358 --> 01:02:43,658
And the radius is               
the eye radius.                 

1497
01:02:43,660 --> 01:02:45,260
And the start angle             
is still zero.                  

1498
01:02:45,262 --> 01:02:49,030
Then end angle is still         
CGFloat.pi* 2, and clockwise,   

1499
01:02:49,032 --> 01:02:49,464
it doesn't matter.              

1500
01:02:49,466 --> 01:02:51,767
I'll go the other               
way this time.                  

1501
01:02:51,769 --> 01:02:53,835
Okay, so there's my path.       

1502
01:02:53,837 --> 01:02:57,539
Let's set path.lineWidth        
equal 5.0 again.                

1503
01:02:57,541 --> 01:02:59,541
Starting to get tired           
of typing that.                 

1504
01:02:59,543 --> 01:03:01,109
It's probably not               
a good thing.                   

1505
01:03:01,111 --> 01:03:03,145
And then let's                  
return the path.                

1506
01:03:04,180 --> 01:03:04,946
Okay.                           
So that's it.                   

1507
01:03:04,948 --> 01:03:07,516
So that gets the path for       
either the left eye or          

1508
01:03:07,518 --> 01:03:10,051
the right eye.                  

1509
01:03:10,053 --> 01:03:14,356
we'll say pathForEye,           
the left eye, stroke.           

1510
01:03:14,957 --> 01:03:19,561
Okay, pathForEye,               
the right eye, stroke.          

1511
01:03:19,896 --> 01:03:21,830
Okay, I hope everyone's         
comfortable with the fact that  

1512
01:03:21,832 --> 01:03:24,032
I'm calling a method,           
taking this return value, and   

1513
01:03:24,034 --> 01:03:26,201
immediately sending             
it a message.                   

1514
01:03:28,604 --> 01:03:29,471
So, let's see how this went.    

1515
01:03:29,473 --> 01:03:31,239
Let's see if we                 
got this right.                 

1516
01:03:38,781 --> 01:03:39,948
Look at that.                   

1517
01:03:39,950 --> 01:03:40,715
FIrst time.                     

1518
01:03:40,717 --> 01:03:41,850
It's really going well today.   

1519
01:03:41,852 --> 01:03:44,219
Okay, so there's our two        
lines, they look good.          

1520
01:03:44,221 --> 01:03:45,654
You know what would be          
kind of cool though?            

1521
01:03:45,656 --> 01:03:48,957
If we could have open eyes and  
closed eyes.                    

1522
01:03:49,325 --> 01:03:51,526
So how could we, how could      
we have open eyes and           

1523
01:03:51,528 --> 01:03:51,693
How about this: let's go up     
here and just like we had this  

1524
01:03:51,695 --> 01:03:54,429
closed eyes?                    

1525
01:03:54,431 --> 01:03:57,532
var scale which by the way      
notice I left the var public.   

1526
01:03:57,534 --> 01:03:59,668
Scale, so that people who       
are using my face view,         

1527
01:03:59,670 --> 01:04:01,803
they can control                
the size of the face.           

1528
01:04:01,805 --> 01:04:02,304
I don't mind.                   

1529
01:04:02,306 --> 01:04:05,173
And, I'm also gonna have eyes   
open, which is going to be      

1530
01:04:05,175 --> 01:04:07,475
a bool, which will              
start out being false.          

1531
01:04:07,477 --> 01:04:09,277
And we're just gonna            
make our pathForEye,            

1532
01:04:09,279 --> 01:04:12,380
look at this var,               
look at the value of this var.  

1533
01:04:12,382 --> 01:04:14,749
And either have the eyes        
open or closed.                 

1534
01:04:14,751 --> 01:04:16,818
So, I'm back here in path for   
eye.                            

1535
01:04:16,820 --> 01:04:20,422
So, if the eyes are open then   
we're just gonna do what we     

1536
01:04:20,424 --> 01:04:22,991
were already doing here,        
this business.                  

1537
01:04:22,993 --> 01:04:25,360
Okay, because that's            
what we did so far.             

1538
01:04:25,362 --> 01:04:27,095
But if the eyes are closed,     

1539
01:04:27,097 --> 01:04:28,697
then I want the path            
to be different.                

1540
01:04:28,699 --> 01:04:29,965
So, watch what I'm              
gonna do here.                  

1541
01:04:29,967 --> 01:04:37,172
Let path be a UIBezierPath      
without a value to start.       

1542
01:04:37,740 --> 01:04:42,277
Okay, and then I set it here,   
and I'm gonna set it here, and  

1543
01:04:42,279 --> 01:04:43,178
that's allowed.                 

1544
01:04:43,180 --> 01:04:44,980
In other words Swift is         
smart enough to know,           

1545
01:04:44,982 --> 01:04:48,450
you created a let, which can    
only be initialized once.       

1546
01:04:48,452 --> 01:04:51,119
But you conditionally           
initialized it here,            

1547
01:04:51,121 --> 01:04:53,355
because now I'm gonna           
say path equals.                

1548
01:04:53,357 --> 01:04:55,390
And for the closed case         
I'm just gonna make             

1549
01:04:55,392 --> 01:04:57,859
a bezier path that              
starts out blank.               

1550
01:04:57,861 --> 01:04:59,561
And then I'm gonna              
just move to, line to,          

1551
01:04:59,563 --> 01:05:03,031
to make a little horizontal     
line for a closed eye.          

1552
01:05:03,033 --> 01:05:06,301
So, I'm gonna say               
path.move(to: ) to move to      

1553
01:05:06,303 --> 01:05:12,007
a point, CGPoint, we use        
this constructor right here.    

1554
01:05:12,009 --> 01:05:17,345
Not that one, let's use,        
this one, CGFloat.              

1555
01:05:17,347 --> 01:05:19,681
And the point we're gonna       
move to we're gonna move to     

1556
01:05:19,683 --> 01:05:23,551
the eyeCenter x                 
minus the eyeRadius.            

1557
01:05:23,553 --> 01:05:25,420
So, we're gonna move to         
the center of the eye and       

1558
01:05:25,422 --> 01:05:28,123
back up with the eye there.     

1559
01:05:28,125 --> 01:05:30,125
And we're gonna be              
at the eyeCenter.y.             

1560
01:05:30,127 --> 01:05:32,127
So, we're gonna right           
in the eyeCenter and            

1561
01:05:32,129 --> 01:05:33,295
we're gonna draw                
a horizontal line so            

1562
01:05:33,297 --> 01:05:35,497
we're gonna move to             
the left side of it.            

1563
01:05:35,499 --> 01:05:40,302
And then we're going to add     
a line to the right side.       

1564
01:05:40,304 --> 01:05:46,007
So, another CGPoint             
which is this one again.        

1565
01:05:46,009 --> 01:05:49,010
And this one is going           
to be the eyeCenter.x           

1566
01:05:49,012 --> 01:05:50,879
plus the eyeRadius.             

1567
01:05:50,881 --> 01:05:55,784
And it's still at               
the eyeCenter, okay?            

1568
01:05:55,786 --> 01:05:56,985
Make sense?                     

1569
01:05:56,987 --> 01:05:59,087
Two more parentheses in there.  

1570
01:05:59,488 --> 01:06:00,055
Everyone see what I did there?  

1571
01:06:00,057 --> 01:06:03,258
But I just wanna make           
sure you understood this        

1572
01:06:03,260 --> 01:06:03,558
thing of let path.              

1573
01:06:03,560 --> 01:06:06,962
You don't have to say equals    
here as long as this if then    

1574
01:06:06,964 --> 01:06:12,100
still only initializes it       
once and doesn't change it.     

1575
01:06:12,102 --> 01:06:14,135
Because it's still              
a valid let.                    

1576
01:06:14,770 --> 01:06:17,305
So, let's go take               
a look at that.                 

1577
01:06:24,447 --> 01:06:26,348
Okay, eyes closed.              

1578
01:06:26,350 --> 01:06:27,615
Excellent, okay?                

1579
01:06:27,617 --> 01:06:28,450
They're closed eyes.            

1580
01:06:28,452 --> 01:06:30,552
We can go back here,            
set this to true.               

1581
01:06:30,554 --> 01:06:34,522
And again,                      
we should get open eyes.        

1582
01:06:35,558 --> 01:06:36,124
Questions?                      

1583
01:06:36,126 --> 01:06:38,793
So, the question is when        
do people do a custom           

1584
01:06:38,795 --> 01:06:41,730
view like this when they        
draw off their own thing?       

1585
01:06:41,732 --> 01:06:44,766
In other words, when they       
don't use this built in things  

1586
01:06:44,768 --> 01:06:47,635
like button and things like     
that well it depends on         

1587
01:06:47,637 --> 01:06:49,204
the content that                
they are providing.             

1588
01:06:49,206 --> 01:06:51,906
But a lot of times, maybe they  
are not drawing with arcs and   

1589
01:06:51,908 --> 01:06:55,210
circles, maybe they're drawing  
with images and text okay?      

1590
01:06:55,212 --> 01:06:58,146
They're laying how they         
want down to a level or         

1591
01:06:58,148 --> 01:07:01,082
in an orientation that those    
can do or maybe they're doing   

1592
01:07:01,084 --> 01:07:04,886
text along a curve, which you   
can do with this for example.   

1593
01:07:04,888 --> 01:07:05,787
So, it's that kind of thing.    

1594
01:07:05,789 --> 01:07:07,389
You might not see raw           
drawing like this.              

1595
01:07:07,391 --> 01:07:09,224
We're doing raw drawing         
because it's simple and         

1596
01:07:09,226 --> 01:07:12,494
I'm trying to show              
you how you do it.              

1597
01:07:12,496 --> 01:07:13,762
But there are apps              
that are drawing                

1598
01:07:13,764 --> 01:07:15,563
apps where you can take         
your finger and draw.           

1599
01:07:15,565 --> 01:07:17,732
They would clearly do           
this as well right,             

1600
01:07:17,734 --> 01:07:20,068
some of you might do that       
as your final project.          

1601
01:07:20,070 --> 01:07:22,037
Okay, so                        
anyway there's our eye.         

1602
01:07:22,039 --> 01:07:25,340
So, we've got our eyes going,   
we've got our skull.            

1603
01:07:25,342 --> 01:07:25,473
How about our mouth?            

1604
01:07:25,475 --> 01:07:27,475
We've gotta get the mouth       
going so let's go do that.      

1605
01:07:27,477 --> 01:07:29,110
And we're gonna do              
the same thing there.           

1606
01:07:29,112 --> 01:07:34,182
I'm gonna have a private        
func pathForMouth and           

1607
01:07:34,184 --> 01:07:37,619
it's gonna be a UIBezierPath.   

1608
01:07:37,621 --> 01:07:39,020
So, how I'm going               
to do the mouth.                

1609
01:07:39,022 --> 01:07:41,556
Actually, I'm going to start    
by drawing the mouth as         

1610
01:07:41,558 --> 01:07:41,890
a rectangle,                    

1611
01:07:41,892 --> 01:07:44,325
just to show you where I'm      
gonna put it on screen.         

1612
01:07:44,327 --> 01:07:47,128
And then we'll turn it,         
we'll use a bezier curve,       

1613
01:07:47,130 --> 01:07:48,430
actually, to make the mouth.    

1614
01:07:48,432 --> 01:07:51,132
So, how am I going to do that?  

1615
01:07:51,134 --> 01:07:53,301
First, I'm going to calculate   

1616
01:07:53,303 --> 01:07:56,471
some things like the width      
of the mouth, the height of     

1617
01:07:56,473 --> 01:07:59,240
the mouth, and the offset of    
the mouth--the offset down      

1618
01:07:59,242 --> 01:08:03,078
from the middle of              
the face--using more of these   

1619
01:08:03,080 --> 01:08:05,013
ratios.                         

1620
01:08:05,015 --> 01:08:06,681
So, I'm just calculating        
the mouth, width,               

1621
01:08:06,683 --> 01:08:08,149
height, and offset.             

1622
01:08:08,151 --> 01:08:10,952
Now, I'm gonna use that to      
create the rectangle in which   

1623
01:08:10,954 --> 01:08:12,187
I'm going to put the mouth.     

1624
01:08:12,189 --> 01:08:17,992
Let's do that, let mouthRect    
equal and so the mouthRect      

1625
01:08:17,994 --> 01:08:20,228
is gotta be offset down         
by the mouth offset.            

1626
01:08:20,230 --> 01:08:22,730
And it's gonna be the width     
and height, so let's do that.   

1627
01:08:22,732 --> 01:08:27,635
So, CGRect we'll use this       
constructor right here,         

1628
01:08:27,637 --> 01:08:31,639
CGFloat, we'll do               
the skull's center dot x        

1629
01:08:31,641 --> 01:08:35,477
minus the mouth's width,        
divided by two.                 

1630
01:08:35,479 --> 01:08:38,680
So that's, because we           
obviously want the mouth        

1631
01:08:38,682 --> 01:08:41,349
centered in there,              
and then for y,                 

1632
01:08:41,351 --> 01:08:46,354
we'll use the skullCenter.y     
plus the mouthOffset.           

1633
01:08:46,922 --> 01:08:47,422
And again it's plus,            

1634
01:08:47,424 --> 01:08:51,159
because plus is down            
in our drawing system.          

1635
01:08:51,161 --> 01:08:57,232
And the width is just           
the mouthWidth and              

1636
01:08:57,234 --> 01:08:59,234
the height is the mouthHeight.  

1637
01:08:59,236 --> 01:09:04,005
Let me make this a little       
easier to read like this.       

1638
01:09:11,914 --> 01:09:12,614
Everyone understand what I'm    

1639
01:09:12,616 --> 01:09:14,315
doing there with                
the mouse rect?                 

1640
01:09:14,317 --> 01:09:15,416
Let's just draw this rect.      

1641
01:09:15,418 --> 01:09:18,953
So, I can say let path          
equal UIBezierPath.             

1642
01:09:18,955 --> 01:09:20,755
BezierPath knows                
how do a rect.                  

1643
01:09:20,757 --> 01:09:22,490
It's this one down here.        

1644
01:09:22,492 --> 01:09:29,531
The rect is our mouthRect and   
let's just return that path.    

1645
01:09:29,732 --> 01:09:31,866
So, now we've got a path for    
the mouth.                      

1646
01:09:31,868 --> 01:09:33,101
Let's go down here and          

1647
01:09:33,103 --> 01:09:37,372
stroke it by saying             
pathForMouth().stroke().        

1648
01:09:37,374 --> 01:09:40,909
Let's see what                  
this looks like.                

1649
01:09:48,317 --> 01:09:49,384
Okay, excellent.                

1650
01:09:49,386 --> 01:09:50,652
So, we have a mouth.            

1651
01:09:50,654 --> 01:09:52,587
Kinda looks like a robot face.  

1652
01:09:52,589 --> 01:09:55,823
We want it to have a nice       
curve, a smile or a frown.      

1653
01:09:55,825 --> 01:09:58,493
So, we gotta start thinking     
a little bit how we're gonna    

1654
01:09:58,495 --> 01:10:02,130
represent whether this          
is smiling or frowning.         

1655
01:10:02,132 --> 01:10:06,568
And so I'm gonna introduce      
another var, up at the top,     

1656
01:10:06,570 --> 01:10:08,469
here, just like I have it       
with the eyes are open.         

1657
01:10:08,471 --> 01:10:14,576
I'm gonna have a var which I'm  
gonna call mouthCurvature and   

1658
01:10:14,578 --> 01:10:16,611
make it be a Double.            

1659
01:10:16,613 --> 01:10:19,914
I'll set it to,                 
let's say 1.0 and               

1660
01:10:19,916 --> 01:10:24,519
the semantics of this I'm       
going to have it be that        

1661
01:10:24,521 --> 01:10:29,324
1.0 is full smile and           
minus 1.0 is full frown.        

1662
01:10:29,326 --> 01:10:31,859
And this is going to be public  
and this is going to be         

1663
01:10:31,861 --> 01:10:34,729
the public API that someone     
uses when they want to use my   

1664
01:10:34,731 --> 01:10:38,399
FaceView to tell me how much    
this mouth should be smiling.   

1665
01:10:38,401 --> 01:10:41,002
Okay, the mouth                 
curvature right here.           

1666
01:10:41,004 --> 01:10:42,470
And I've just                   
defined it this way.            

1667
01:10:42,472 --> 01:10:45,039
It's public,                    
I've documented it.             

1668
01:10:45,041 --> 01:10:47,342
And so people can set it        
to whatever they want.          

1669
01:10:47,344 --> 01:10:48,876
So I'm going to use             
this now to do it.              

1670
01:10:48,878 --> 01:10:51,546
Now one thing is I've defined   
it as a double because,         

1671
01:10:51,548 --> 01:10:54,916
you know I'm not actually       
doing the drawing right now     

1672
01:10:54,918 --> 01:10:56,918
I'm just talking conceptually   
what curvature is.              

1673
01:10:56,920 --> 01:11:00,822
So, I need to convert this in   
the some meaningful CGFloat,    

1674
01:11:00,824 --> 01:11:03,157
and then use that               
to draw this mouth.             

1675
01:11:03,159 --> 01:11:04,225
So, how am I gonna do that?     

1676
01:11:04,227 --> 01:11:07,328
The way I'm gonna do that do    
that is let's get this back up  

1677
01:11:07,330 --> 01:11:12,033
here and I'll show you, on the  
rectangle that we have here.    

1678
01:11:13,135 --> 01:11:14,802
I'm gonna use what's            
called a Bezier curve,          

1679
01:11:14,804 --> 01:11:17,639
how many people know            
what is Bezier curve is?        

1680
01:11:18,374 --> 01:11:19,574
Only one person!                

1681
01:11:19,576 --> 01:11:22,710
My Gosh, okay so                
a Bezier curve is just          

1682
01:11:22,712 --> 01:11:26,047
two end points a line           
between two end points but      

1683
01:11:26,049 --> 01:11:29,350
there are two other points      
called control points.          

1684
01:11:29,352 --> 01:11:30,451
And you can kinda think it as,  

1685
01:11:30,453 --> 01:11:33,187
think of it as the line         
starts out at the start,        

1686
01:11:33,189 --> 01:11:35,790
starts heading for              
one of the control points.      

1687
01:11:35,792 --> 01:11:38,526
As it gets close, it starts     
heading for the other one.      

1688
01:11:38,528 --> 01:11:40,962
And as it gets close to that    
one, it starts heading for      

1689
01:11:40,964 --> 01:11:41,462
the end, okay.                  

1690
01:11:41,464 --> 01:11:44,499
So, the control points kind     
of pull on the line and         

1691
01:11:44,501 --> 01:11:45,033
give it some curve.             

1692
01:11:45,035 --> 01:11:47,368
And you can put those control   
points anywhere you want.       

1693
01:11:47,370 --> 01:11:49,370
Obviously, we're gonna          
put ours like this.             

1694
01:11:49,372 --> 01:11:52,874
So, my start is gonna be right  
here in the middle of this      

1695
01:11:52,876 --> 01:11:55,176
line and                        
my end is gonna be right here.  

1696
01:11:55,178 --> 01:11:57,478
So we're gonna draw             
a line across here.             

1697
01:11:57,480 --> 01:11:58,946
And my two control              
points are going to             

1698
01:11:58,948 --> 01:12:03,518
be down here somewhere,         
on both sides of his chin.      

1699
01:12:03,520 --> 01:12:03,618
the line is gonna start here,   
start down towards this one.    

1700
01:12:03,620 --> 01:12:06,688
And so                          

1701
01:12:06,690 --> 01:12:07,889
Whoop.                          
Starting going to               

1702
01:12:07,891 --> 01:12:07,989
the other one.                  

1703
01:12:07,991 --> 01:12:10,325
Whoop. Come back up here.       
And make a little smile.        

1704
01:12:10,327 --> 01:12:13,695
And if I move my                
control points up to            

1705
01:12:13,697 --> 01:12:14,629
the top, then whoop.            

1706
01:12:14,631 --> 01:12:15,897
It'll be a frown.               

1707
01:12:16,999 --> 01:12:18,466
Everyone understand that.       

1708
01:12:18,468 --> 01:12:18,900
So I need four points.          

1709
01:12:18,902 --> 01:12:21,235
The start, the end, and         
the two control points.         

1710
01:12:21,237 --> 01:12:22,570
Let's do those.                 

1711
01:12:23,939 --> 01:12:24,939
The start is easy,              

1712
01:12:24,941 --> 01:12:27,608
that's just the middle          
of the left edge, okay.         

1713
01:12:27,610 --> 01:12:30,978
So I can say                    
the start is CGPoint.           

1714
01:12:30,980 --> 01:12:34,882
And again we'll do              
this kind of CGPoint.           

1715
01:12:34,884 --> 01:12:40,621
And it's going to be the mouth  
rect, our little mouth rect,    

1716
01:12:40,623 --> 01:12:45,126
MinX, that's the left edge,     
the minimum X, and              

1717
01:12:45,128 --> 01:12:50,665
mouthRect.midY, that's          
halfway up the mouth rect.      

1718
01:12:50,667 --> 01:12:54,736
And the end is going            
to be CGPoint.                  

1719
01:12:54,738 --> 01:12:55,837
This float.                     

1720
01:12:55,839 --> 01:12:59,741
And this one's gonna be         
the mouthrect.maxX and          

1721
01:12:59,743 --> 01:13:02,610
mouthrect.midY on               
the other side.                 

1722
01:13:02,612 --> 01:13:03,511
So the two ends,                
start and end,                  

1723
01:13:03,513 --> 01:13:06,047
are right in the middle of my   
mouth rect on either side.      

1724
01:13:06,049 --> 01:13:08,316
So now I need those             
two control points.             

1725
01:13:08,318 --> 01:13:11,986
For the control points I need   
to think of how far down        

1726
01:13:11,988 --> 01:13:12,987
they're going to be.            

1727
01:13:12,989 --> 01:13:14,989
And it depends on               
the mouth curvature.            

1728
01:13:14,991 --> 01:13:17,892
The more smile I want, the      
farther down they need to be.   

1729
01:13:17,894 --> 01:13:20,762
The more frown I want, the      
farther up they need to be.     

1730
01:13:20,764 --> 01:13:24,532
So I'm gonna create another     
thing called smileOffset.       

1731
01:13:24,534 --> 01:13:27,702
And this is gonna be a          
CGFloat, because it's gonna be  

1732
01:13:27,704 --> 01:13:31,072
something that I'm using        
to do drawing here.             

1733
01:13:31,074 --> 01:13:37,478
And I'm gonna make it equal     
to the mouthCurvature,          

1734
01:13:37,480 --> 01:13:43,584
which is a double,              
times the mouth rect.height.    

1735
01:13:43,586 --> 01:13:46,821
So I will move down those       
control points all the way      

1736
01:13:46,823 --> 01:13:50,858
the entire height of a mouth    
rect if I'm fully smiling.      

1737
01:13:50,860 --> 01:13:53,227
Now, there's some problems      
with this line of code.         

1738
01:13:53,229 --> 01:13:55,396
One is, if you look at          
these things right here,        

1739
01:13:55,398 --> 01:13:58,466
it's saying you can't multiply  
a Double times a Float.         

1740
01:13:58,468 --> 01:14:00,535
This is a float,                
this is a double.               

1741
01:14:00,537 --> 01:14:03,404
So I'm gonna have to            
convert this to a float         

1742
01:14:03,406 --> 01:14:06,007
by using a constructor for      
CGFloat.                        

1743
01:14:06,009 --> 01:14:08,910
Luckily, it has one that        
takes a double okay.            

1744
01:14:08,912 --> 01:14:13,314
Another thing here is smile     
offset has to be between,       

1745
01:14:13,316 --> 01:14:14,015
you know, one, or sorry,        

1746
01:14:14,017 --> 01:14:17,852
mouth curvature here has to     
be between one and minus one.   

1747
01:14:17,854 --> 01:14:18,786
So I'm gonna enforce that.      

1748
01:14:18,788 --> 01:14:22,256
Because I wouldn't want this    
path curvature to be five, and  

1749
01:14:22,258 --> 01:14:22,824
now he's smiling so             

1750
01:14:22,826 --> 01:14:25,660
big that it's, you know,        
on the floor literally.         

1751
01:14:25,662 --> 01:14:26,427
Jaws on the floor.              

1752
01:14:26,429 --> 01:14:26,794
We don't want that.             

1753
01:14:26,796 --> 01:14:28,830
So I'm going to use min and     
max to do that.                 

1754
01:14:28,832 --> 01:14:32,300
I'm gonna say max               
minus one of min                

1755
01:14:32,302 --> 01:14:35,069
of the mouth curvature and      
one.                            

1756
01:14:35,071 --> 01:14:38,639
And that's going to restrict    
it to be between minus one      

1757
01:14:38,641 --> 01:14:39,774
and one.                        

1758
01:14:40,709 --> 01:14:41,142
Everybody got that.             

1759
01:14:41,144 --> 01:14:45,213
I'm just using min and          
max to do that there.           

1760
01:14:45,215 --> 01:14:47,682
And notice that                 
it's automatically              

1761
01:14:47,684 --> 01:14:49,617
made these be doubles,          
which is fine.                  

1762
01:14:49,619 --> 01:14:52,220
So the result of min and        
max is double, and              

1763
01:14:52,222 --> 01:14:54,322
that's being converted          
to a CGFloat.                   

1764
01:14:54,324 --> 01:14:55,656
That works fine.                

1765
01:14:55,791 --> 01:14:57,992
Okay, so now that I             
have that smile offset,         

1766
01:14:57,994 --> 01:14:59,694
I can say how far down          
my control points are.          

1767
01:14:59,696 --> 01:15:03,364
So I'm gonna let cp1, which is  
control point one, it's gonna   

1768
01:15:03,366 --> 01:15:07,401
be smile offset times           
the mouth rect height down.     

1769
01:15:07,403 --> 01:15:09,670
And I'm gonna make              
the two control points be       

1770
01:15:09,672 --> 01:15:14,242
one third of the way in from    
the edges of the mouth rect.    

1771
01:15:14,977 --> 01:15:15,910
Does that make sense?           

1772
01:15:15,912 --> 01:15:18,479
We wanted to kinda head down,   
we wanted to kinda              

1773
01:15:18,481 --> 01:15:21,182
be one-third of the way         
along from each side.           

1774
01:15:21,184 --> 01:15:22,950
So cp1 is gonna                 
be on the left.                 

1775
01:15:22,952 --> 01:15:26,721
That's gonna be a CGPoint.      

1776
01:15:26,723 --> 01:15:28,322
And this again.                 

1777
01:15:28,324 --> 01:15:34,262
And so                          
this one will be the start.x.   

1778
01:15:34,264 --> 01:15:36,397
Start is where we're            
starting right here.            

1779
01:15:36,399 --> 01:15:39,534
Plus the mouthRect.width        
divided by three.               

1780
01:15:39,536 --> 01:15:41,536
So I'm going a third            
of the way across.              

1781
01:15:41,538 --> 01:15:46,274
And then the y is a start.y     
plus the smile offset           

1782
01:15:46,276 --> 01:15:49,110
which could be negative if      
mouth curvature is negative.    

1783
01:15:49,112 --> 01:15:51,546
Smile offset might be           
negative, meaning going up.     

1784
01:15:51,548 --> 01:15:52,780
And so, this will be a frown.   

1785
01:15:52,782 --> 01:15:54,982
Or it could be positive and     
then it will go down.           

1786
01:15:54,984 --> 01:15:59,353
Then cp2 is almost exactly      
the same so I'll copy and       

1787
01:15:59,355 --> 01:16:00,187
paste it, cp2.                  

1788
01:16:00,189 --> 01:16:04,158
It's just that here we're       
gonna go to the end and         

1789
01:16:04,160 --> 01:16:07,161
move back by mouthRect.width.   

1790
01:16:07,163 --> 01:16:10,565
But it's still it's at          
the same level okay because we  

1791
01:16:10,567 --> 01:16:14,001
want it to come down, go        
across, and then come back up.  

1792
01:16:14,003 --> 01:16:15,503
So now that we have             
these control points and        

1793
01:16:15,505 --> 01:16:18,906
the start and the end, now we   
can draw that in the path.      

1794
01:16:18,908 --> 01:16:20,641
So we'll just do go our         
Bzier path right here.         

1795
01:16:20,643 --> 01:16:24,312
We'll leave the rect in there   
at first so we can see it.      

1796
01:16:24,314 --> 01:16:30,451
And I'm just gonna tell         
the path to move to a CGPoint,  

1797
01:16:30,453 --> 01:16:34,388
which is the start and,         
actually,                       

1798
01:16:34,390 --> 01:16:37,858
you don't even                  
need to do that.                

1799
01:16:37,860 --> 01:16:40,328
You just say,                   
move to the start.              

1800
01:16:40,729 --> 01:16:44,231
And then, we're gonna           
draw a curve, addCurve,         

1801
01:16:44,233 --> 01:16:47,234
which adds one of               
the Bezier curves.              

1802
01:16:47,236 --> 01:16:47,602
And we're going to the end.     

1803
01:16:47,604 --> 01:16:53,774
And the control point is cp1,   
and the other is cp2.           

1804
01:16:53,776 --> 01:16:54,976
So let's take a look.           

1805
01:17:03,085 --> 01:17:06,053
Alright, excellent, so we       
have mouth curvature is 1.0,    

1806
01:17:06,055 --> 01:17:07,588
we've got a nice                
big old smile.                  

1807
01:17:07,590 --> 01:17:10,024
Okay, we don't really want      
this square there anymore,      

1808
01:17:10,026 --> 01:17:12,093
rectangle, so                   
we'll get rid of that.          

1809
01:17:12,095 --> 01:17:15,296
We can just do that by          
creating an empty Bezier        

1810
01:17:15,298 --> 01:17:15,930
curve to start.                 

1811
01:17:15,932 --> 01:17:20,935
Also, we want the path's        
lineWidth to be 5.0.            

1812
01:17:20,937 --> 01:17:22,670
One nice, even amount.          

1813
01:17:22,672 --> 01:17:24,739
And let's go ahead and          
check some other things.        

1814
01:17:24,741 --> 01:17:27,408
Let's see if the mouth          
of minus 0.5.                   

1815
01:17:27,410 --> 01:17:31,045
Let's see if that gives         
us a slight frown.              

1816
01:17:31,047 --> 01:17:33,447
Should give us a slight frown,  
right.                          

1817
01:17:39,688 --> 01:17:41,656
Neat, okay.                     

1818
01:17:41,658 --> 01:17:44,425
Alright, what's the last        
thing I'm gonna show.           

1819
01:17:44,427 --> 01:17:46,093
One thing that's a little       
bit of a pain is                

1820
01:17:46,095 --> 01:17:48,696
every time I wanna check        
the mouthCurvature,             

1821
01:17:48,698 --> 01:17:50,131
I gotta go run the app.         

1822
01:17:50,133 --> 01:17:51,432
Back, change it, run.           

1823
01:17:51,434 --> 01:17:53,467
Or every time eyes open,        
eyes closed.                    

1824
01:17:53,469 --> 01:17:56,537
Back and forth.                 

1825
01:17:56,539 --> 01:17:59,507
in Interface Builder, okay?     

1826
01:17:59,509 --> 01:18:00,074
I can see a button              

1827
01:18:00,076 --> 01:18:01,742
when I change it's things       
in Interface Builder.           

1828
01:18:01,744 --> 01:18:05,446
And wouldn't it even be cooler  
if I could have an inspector    

1829
01:18:05,448 --> 01:18:06,013
in Interface Builder,           

1830
01:18:06,015 --> 01:18:08,582
that would let me               
inspect these things.           

1831
01:18:08,584 --> 01:18:10,084
Well, of course                 
we can do that.                 

1832
01:18:10,086 --> 01:18:11,552
How do we do that.              

1833
01:18:11,554 --> 01:18:16,357
We go up here, and we just      
make this IBDesignable, okay.   

1834
01:18:16,525 --> 01:18:20,161
If you put IBDesignable in      
front of a UIView at the top,   

1835
01:18:20,163 --> 01:18:25,166
then when you go over to your   
storyboard, at the top, you're  

1836
01:18:25,168 --> 01:18:28,769
gonna see it here, compiling    
that code, integrating it into  

1837
01:18:28,771 --> 01:18:31,472
Interface Builder, and          
showing it to you.              

1838
01:18:31,474 --> 01:18:34,875
Okay now unfortunately we       
don't have an inspector here    

1839
01:18:34,877 --> 01:18:37,111
that allows us to               
inspect those things.           

1840
01:18:37,113 --> 01:18:38,713
But we can do that as well.     

1841
01:18:38,715 --> 01:18:39,914
Go back to FaceView here.       

1842
01:18:39,916 --> 01:18:40,848
And I'm going to say for        

1843
01:18:40,850 --> 01:18:45,352
example make the scale          
IBInspectable.                  

1844
01:18:46,021 --> 01:18:50,524
Let's make eyesOpen             
IBInspectable.                  

1845
01:18:50,526 --> 01:18:55,196
Let's make the mouthCurvature   
IBInspectable.                  

1846
01:18:55,198 --> 01:18:56,897
Let's add a few                 
other things here.              

1847
01:18:56,899 --> 01:18:59,400
Let's make the lineWidth        
IB inspectable.                 

1848
01:18:59,402 --> 01:19:03,003
So to do that, we can't have    
this 5.0 going on over here,    

1849
01:19:03,005 --> 01:19:04,538
we're gonna have to add a var.  

1850
01:19:04,540 --> 01:19:09,543
So we're just gonna add         
an IBInspectable var.           

1851
01:19:09,545 --> 01:19:12,279
Which is gonna be the line      
width, which is a CGFloat.      

1852
01:19:12,281 --> 01:19:16,650
We'll start it out at 5.0 but   
we'll be able to change it.     

1853
01:19:16,652 --> 01:19:19,520
So now we can go everywhere     
where we have that 5.0.         

1854
01:19:19,522 --> 01:19:23,557
We'll just change               
it to use this var.             

1855
01:19:24,893 --> 01:19:26,727
We can also do the color.       

1856
01:19:26,729 --> 01:19:30,998
IBInspectable var the color,    
it's a UI color.                

1857
01:19:31,000 --> 01:19:35,169
Okay, we'll start it out        
as blue like it is now.         

1858
01:19:35,171 --> 01:19:37,104
So where we have                
view UIColor.blue,              

1859
01:19:37,106 --> 01:19:38,639
we'll use this var instead.     

1860
01:19:38,641 --> 01:19:39,740
Alright, we'll give             
you a color blue.               

1861
01:19:39,742 --> 01:19:43,677
I'm just gonna say color,       
to set the color.               

1862
01:19:43,679 --> 01:19:46,947
Okay, so basically it's taking  
all the things in my app and    

1863
01:19:46,949 --> 01:19:49,416
just making them not            
only configurable,              

1864
01:19:49,418 --> 01:19:52,419
as public variables,            
but also inspectable.           

1865
01:19:52,421 --> 01:19:54,955
So let's go back to our story   
board and see if this works.    

1866
01:19:54,957 --> 01:19:56,924
Sure enough, right away,        
you see up at the top there,    

1867
01:19:56,926 --> 01:20:01,629
Face View, the scale, whether   
the eyes are open, line width,  

1868
01:20:01,631 --> 01:20:04,532
the color, mouth curvature,     
are now inspectable.            

1869
01:20:04,534 --> 01:20:07,001
So let's close the eyes.        

1870
01:20:07,003 --> 01:20:11,839
Let's have the mouth            
curvature be 0.5.               

1871
01:20:11,841 --> 01:20:15,342
Let's make the color            
be orange.                      

1872
01:20:15,344 --> 01:20:18,045
Let's make the line             
width be two.                   

1873
01:20:18,047 --> 01:20:21,215
Let's make the scale be 0.5.    

1874
01:20:21,217 --> 01:20:24,985
Make the scale be 0.9 again,    
whatever.                       

1875
01:20:24,987 --> 01:20:28,622
Now another interesting thing   
about this is just like if you  

1876
01:20:28,624 --> 01:20:30,758
were inspecting                 
a UIButton here.                

1877
01:20:30,760 --> 01:20:33,260
When you run it's going to use  

1878
01:20:33,262 --> 01:20:36,664
these settings as               
the initial settings.           

1879
01:20:36,932 --> 01:20:38,365
You truly are editing this,     

1880
01:20:38,367 --> 01:20:40,100
just like you would             
edit anything else,             

1881
01:20:40,102 --> 01:20:43,771
any other custom view,          
see it comes up like this.      

1882
01:20:45,540 --> 01:20:45,639
Got it?                         

1883
01:20:45,641 --> 01:20:48,008
Now one thing that you          
have to do when you have        

1884
01:20:48,010 --> 01:20:53,881
an IBInspectable is you have    
to explicitly type you cannot   

1885
01:20:53,883 --> 01:20:54,615
let Swift infer it.             

1886
01:20:54,617 --> 01:20:59,386
Because while Swift can infer,  
Interface builder cannot.       

1887
01:20:59,921 --> 01:21:02,022
It doesn't have                 
an inference engine there.      

1888
01:21:02,024 --> 01:21:05,292
So always make sure you         
put the actual type             

1889
01:21:05,294 --> 01:21:09,496
in all the IBInspectables.      

1890
01:21:09,498 --> 01:21:10,731
Alright, that's it!             

1891
01:21:10,733 --> 01:21:10,898
what we're gonna do is we're    
gonna add a model to our MVC.   

1892
01:21:10,900 --> 01:21:13,567
Next time,                      

1893
01:21:13,569 --> 01:21:15,703
And we're gonna start putting   
some gestures in here.          

1894
01:21:15,705 --> 01:21:19,673
And then we'll start talking    
about multiple MVCs.            

1895
01:21:19,675 --> 01:21:19,706
>> For more, please visit       
us at stanford.edu.             

